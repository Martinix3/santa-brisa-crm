(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1850],{3235:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(40157).A)("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]])},4520:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>V});var r=a(95155),s=a(12115),n=a(30285),l=a(66695),d=a(85127),i=a(87481),o=a(3235),c=a(34301),u=a(50172),m=a(18763);let p=(0,a(40157).A)("PackageOpen",[["path",{d:"M12 22v-9",key:"x3hkom"}],["path",{d:"M15.17 2.21a1.67 1.67 0 0 1 1.63 0L21 4.57a1.93 1.93 0 0 1 0 3.36L8.82 14.79a1.655 1.655 0 0 1-1.64 0L3 12.43a1.93 1.93 0 0 1 0-3.36z",key:"2ntwy6"}],["path",{d:"M20 13v3.87a2.06 2.06 0 0 1-1.11 1.83l-6 3.08a1.93 1.93 0 0 1-1.78 0l-6-3.08A2.06 2.06 0 0 1 4 16.87V13",key:"1pmm1c"}],["path",{d:"M21 12.43a1.93 1.93 0 0 0 0-3.36L8.83 2.2a1.64 1.64 0 0 0-1.63 0L3 4.57a1.93 1.93 0 0 0 0 3.36l12.18 6.86a1.636 1.636 0 0 0 1.63 0z",key:"12ttoo"}]]);var f=a(90221),x=a(62177),h=a(68663),j=a(54165),b=a(17759),y=a(62523),N=a(59409),v=a(74601),g=a(77223),w=a(21141),k=a(66424),C=a(90010),S=a(47262),R=a(85057),M=a(34477);let A=(0,M.createServerReference)("7ff3b22353f70ebdbc76c46c196be8c5024f3d1621",M.callServer,void 0,M.findSourceMapURL,"createNewProductAndRecipeFS"),P=(0,M.createServerReference)("70378c6d0850948d6d2d204af4f73ca64a83b8c921",M.callServer,void 0,M.findSourceMapURL,"saveRecipeFS"),E=["unit","kg","g","l","ml"],L=h.Ik({materialId:h.Yj().min(1,"Componente no asociado. Usa la b\xfasqueda inteligente."),description:h.Yj().min(3,"La descripci\xf3n del componente es obligatoria."),quantity:h.au.number().min(1e-6,"La cantidad debe ser un n\xfamero positivo."),uom:h.k5(E).default("unit")}),I=e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim().toLowerCase(),z=(e,t)=>h.Ik({type:h.k5(["blend","fill"],{required_error:"Debe seleccionar un tipo de orden."}),isNewProduct:h.zM().default(!1),productSku:h.Yj().optional(),newProductName:h.Yj().optional(),components:h.YO(L).min(1,"Debe a\xf1adir al menos un componente.")}).superRefine((t,a)=>{if(t.isNewProduct?(!t.newProductName||t.newProductName.length<3)&&a.addIssue({path:["newProductName"],message:"El nombre es obligatorio (m\xedn. 3 caracteres)."}):t.productSku||a.addIssue({path:["productSku"],message:"Debe seleccionar un producto existente."}),!t.isNewProduct&&t.productSku){let r=I(t.productSku);t.components.forEach((t,s)=>{let n=e.find(e=>e.id===t.materialId);n&&n.sku&&I(n.sku)===r&&a.addIssue({path:["components.".concat(s,".description")],message:"Un producto no puede ser componente de s\xed mismo."})})}});function U(e){var t,a;let{recipe:l,isOpen:d,onOpenChange:o,onSave:m,onDelete:p,inventoryItems:h}=e,[M,L]=s.useState(!1),[U,F]=s.useState(""),{toast:q}=(0,i.dj)(),D=s.useMemo(()=>z(h,null==l?void 0:l.productSku),[h,null==l?void 0:l.productSku]),B=(0,x.mN)({resolver:(0,f.u)(D),defaultValues:{type:void 0,isNewProduct:!1,productSku:"",newProductName:"",components:[]}}),{fields:T,append:V,remove:J}=(0,x.jz)({control:B.control,name:"components"}),O=B.watch("isNewProduct");s.useEffect(()=>{let e=B.watch((e,t)=>{let{name:a,type:r}=t;"isNewProduct"===a&&"change"===r&&(!1===e.isNewProduct?B.setValue("newProductName",""):B.setValue("productSku",void 0),B.clearErrors(["newProductName","productSku"]))});return()=>e.unsubscribe()},[B]);let{allCategories:H,isLoading:_}=(0,w.Ck)(),G=s.useMemo(()=>{if(_)return[];let e=new Set(["materia prima (cogs)","material de embalaje (cogs)","granel","producto intermedio","producto terminado"].map(I)),t=new Set(H.filter(t=>e.has(I(t.name))).map(e=>e.id));return h.filter(e=>e.categoryId&&t.has(e.categoryId))},[h,H,_]),Z=s.useMemo(()=>{let e=new Set(T.map(e=>e.materialId));return G.filter(t=>!e.has(t.id))},[T,G]);s.useEffect(()=>{if(d){if(l){var e;let t=l.lines.map(e=>{let t=h.find(t=>t.id===e.componentId);return{materialId:(null==t?void 0:t.id)||"",description:(null==t?void 0:t.name)||e.componentName||"ID: ".concat(e.componentId),quantity:e.quantity,uom:e.uom}});B.reset({type:null==(e=l.lines[0])?void 0:e.type,isNewProduct:!1,productSku:l.productSku,newProductName:"",components:t})}else B.reset({type:void 0,isNewProduct:!1,productSku:"",newProductName:"",components:[]});F("")}},[l,d,B,h]);let Y=async e=>{L(!0);try{let t=e.components.map(e=>{let t=h.find(t=>t.id===e.materialId);return{componentId:t.id,componentName:t.name,componentSku:t.sku,quantity:e.quantity,uom:e.uom}});if(e.isNewProduct){let a=I("Producto Terminado"),r=H.find(e=>I(e.name)===a);if(!r)throw Error("No se encontr\xf3 la categor\xeda 'Producto Terminado'. Por favor, cr\xe9ala o revisa su nombre.");let{sku:s}=await A(e.newProductName,r.id,t,e.type);q({title:"Receta y Producto Creados",description:"Se ha creado el producto con SKU: ".concat(s,".")})}else await P(e.productSku,t,e.type),q({title:"Receta Guardada",description:"La receta ha sido actualizada correctamente."});await m()}catch(e){q({title:"Error al Guardar",description:e.message,variant:"destructive"})}finally{L(!1)}},$=s.useMemo(()=>{let e=I("Producto Terminado"),t=H.find(t=>I(t.name)===e);return t?h.filter(e=>e.sku&&e.categoryId===t.id):[]},[h,H]),K=!!l;return(0,r.jsx)(j.lG,{open:d,onOpenChange:o,children:(0,r.jsxs)(j.Cf,{className:"sm:max-w-3xl",children:[(0,r.jsxs)(j.c7,{children:[(0,r.jsx)(j.L3,{children:K?"Editar Receta":"Crear Nueva Receta"}),(0,r.jsx)(j.rr,{children:"Define los componentes y cantidades para fabricar un producto terminado."})]}),(0,r.jsx)(b.lV,{...B,children:(0,r.jsxs)("form",{onSubmit:B.handleSubmit(Y),className:"space-y-4 py-2",children:[(0,r.jsxs)("fieldset",{disabled:M,className:"space-y-4",children:[(0,r.jsx)(b.zB,{control:B.control,name:"type",render:e=>{let{field:t}=e;return(0,r.jsxs)(b.eI,{children:[(0,r.jsx)(b.lR,{children:"Tipo de Receta"}),(0,r.jsxs)(N.l6,{onValueChange:t.onChange,value:t.value,disabled:K,children:[(0,r.jsx)(b.MJ,{children:(0,r.jsx)(N.bq,{children:(0,r.jsx)(N.yv,{placeholder:"Seleccionar tipo..."})})}),(0,r.jsxs)(N.gC,{children:[(0,r.jsx)(N.eb,{value:"blend",children:"Mezcla (Granel)"}),(0,r.jsx)(N.eb,{value:"fill",children:"Embotellado"})]})]}),(0,r.jsx)(b.C5,{})]})}}),!K&&(0,r.jsx)(b.zB,{control:B.control,name:"isNewProduct",render:e=>{let{field:t}=e;return(0,r.jsxs)(b.eI,{className:"flex flex-row items-center space-x-2 space-y-0 rounded-md border p-3 shadow-sm",children:[(0,r.jsx)(b.MJ,{children:(0,r.jsx)(S.S,{checked:t.value,onCheckedChange:t.onChange,disabled:!B.watch("type")})}),(0,r.jsxs)("div",{className:"space-y-1 leading-none",children:[(0,r.jsx)(b.lR,{children:"Crear un nuevo producto terminado"}),(0,r.jsx)(b.C5,{})]})]})}}),O&&!K?(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,r.jsx)(b.zB,{control:B.control,name:"newProductName",render:e=>{let{field:t}=e;return(0,r.jsxs)(b.eI,{children:[(0,r.jsx)(b.lR,{children:"Nombre Nuevo Producto"}),(0,r.jsx)(b.MJ,{children:(0,r.jsx)(y.p,{placeholder:"Ej: Santa Brisa 200ml",...t})}),(0,r.jsx)(b.C5,{})]})}}),(0,r.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,r.jsx)(R.J,{children:"SKU Nuevo Producto"}),(0,r.jsxs)("div",{className:"flex h-10 w-full items-center rounded-md border border-input bg-muted px-3 py-2 text-sm text-muted-foreground",children:[(0,r.jsx)(v.A,{className:"mr-2 h-4 w-4"}),"Se generar\xe1 autom\xe1ticamente"]})]})]}):(0,r.jsx)(b.zB,{control:B.control,name:"productSku",render:e=>{let{field:t}=e;return(0,r.jsxs)(b.eI,{children:[(0,r.jsx)(b.lR,{children:"Producto a Fabricar"}),(0,r.jsxs)(N.l6,{onValueChange:t.onChange,value:t.value,disabled:K||!B.watch("type"),children:[(0,r.jsx)(b.MJ,{children:(0,r.jsx)(N.bq,{children:(0,r.jsx)(N.yv,{placeholder:"Seleccionar producto terminado..."})})}),(0,r.jsx)(N.gC,{children:$.map(e=>(0,r.jsxs)(N.eb,{value:e.sku,children:[e.name," (",e.sku,")"]},e.id))})]}),(0,r.jsx)(b.C5,{})]})}}),(0,r.jsx)("h4",{className:"font-medium",children:"Componentes de la Receta"}),(0,r.jsxs)("div",{className:"flex items-end gap-2",children:[(0,r.jsxs)("div",{className:"flex-grow",children:[(0,r.jsx)(R.J,{children:"A\xf1adir Componente"}),(0,r.jsxs)(N.l6,{onValueChange:F,value:U,children:[(0,r.jsx)(N.bq,{children:(0,r.jsx)(N.yv,{placeholder:"Seleccionar componente..."})}),(0,r.jsx)(N.gC,{children:(0,r.jsx)(k.F,{className:"h-48",children:Z.map(e=>(0,r.jsxs)(N.eb,{value:e.id,children:[e.name," (",e.sku,")"]},e.id))})})]})]}),(0,r.jsxs)(n.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{if(!U)return;let e=G.find(e=>e.id===U);e&&(V({materialId:e.id,description:e.name,quantity:1,uom:e.uom||"unit"}),F(""))},disabled:!U,children:[(0,r.jsx)(c.A,{className:"mr-2 h-4 w-4"})," A\xf1adir"]})]}),(0,r.jsx)(k.F,{className:"h-48 border rounded-md p-2",children:(0,r.jsxs)("div",{className:"space-y-3",children:[T.map((e,t)=>(0,r.jsxs)("div",{className:"flex items-end gap-2 p-3 border rounded-md bg-secondary/30",children:[(0,r.jsx)("div",{className:"flex-grow space-y-2",children:(0,r.jsx)("p",{className:"font-medium text-sm",children:e.description})}),(0,r.jsx)(b.zB,{control:B.control,name:"components.".concat(t,".quantity"),render:e=>{let{field:t}=e;return(0,r.jsxs)(b.eI,{className:"w-28",children:[(0,r.jsx)(b.lR,{className:"text-xs",children:"Cantidad"}),(0,r.jsx)(b.MJ,{children:(0,r.jsx)(y.p,{type:"number",step:"any",placeholder:"Cant.",...t})}),(0,r.jsx)(b.C5,{})]})}}),(0,r.jsx)(b.zB,{control:B.control,name:"components.".concat(t,".uom"),render:e=>{let{field:t}=e;return(0,r.jsxs)(b.eI,{className:"w-24",children:[(0,r.jsx)(b.lR,{className:"text-xs",children:"UoM"}),(0,r.jsxs)(N.l6,{onValueChange:t.onChange,value:t.value,children:[(0,r.jsx)(b.MJ,{children:(0,r.jsx)(N.bq,{children:(0,r.jsx)(N.yv,{placeholder:"Unidad"})})}),(0,r.jsx)(N.gC,{children:E.map(e=>(0,r.jsx)(N.eb,{value:e,children:e},e))})]}),(0,r.jsx)(b.C5,{})]})}}),(0,r.jsx)(n.$,{type:"button",variant:"ghost",size:"icon",onClick:()=>J(t),className:"text-destructive hover:bg-destructive/10",children:(0,r.jsx)(g.A,{className:"h-4 w-4"})})]},e.id)),0===T.length&&(0,r.jsxs)("div",{className:"text-center text-sm text-muted-foreground p-4",children:["A\xf1ade componentes desde el desplegable de arriba.",(0,r.jsx)(b.C5,{className:"mt-2",children:null==(a=B.formState.errors.components)||null==(t=a.root)?void 0:t.message})]})]})})]}),(0,r.jsxs)(j.Es,{className:"pt-4 flex justify-between w-full",children:[(0,r.jsx)("div",{children:K&&(0,r.jsxs)(C.Lt,{children:[(0,r.jsx)(C.tv,{asChild:!0,children:(0,r.jsx)(n.$,{type:"button",variant:"destructive",disabled:M,children:"Eliminar Receta"})}),(0,r.jsxs)(C.EO,{children:[(0,r.jsxs)(C.wd,{children:[(0,r.jsx)(C.r7,{children:"\xbfConfirmar eliminaci\xf3n?"}),(0,r.jsx)(C.$v,{children:"Esta acci\xf3n es irreversible y eliminar\xe1 toda la receta para este producto."})]}),(0,r.jsxs)(C.ck,{children:[(0,r.jsx)(C.Zr,{children:"Cancelar"}),(0,r.jsx)(C.Rx,{onClick:()=>p(l.productSku),variant:"destructive",children:"Eliminar"})]})]})]})}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(j.HM,{asChild:!0,children:(0,r.jsx)(n.$,{type:"button",variant:"outline",disabled:M,children:"Cancelar"})}),(0,r.jsx)(n.$,{type:"submit",disabled:M,children:M?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Guardando..."]}):"Guardar Receta"})]})]})]})})]})})}var F=a(61930),q=a(84143);let D=(0,M.createServerReference)("408b14f30198c95ed4f46a7fc76313d02f4223210e",M.callServer,void 0,M.findSourceMapURL,"deleteRecipeFS");var B=a(19564),T=a(51055);function V(){let{toast:e}=(0,i.dj)(),{dataSignature:t}=(0,T.A)(),[a,f]=s.useState([]),[x,h]=s.useState([]),[j,b]=s.useState(!0),[y,N]=s.useState(null),[v,g]=s.useState(!1),w=s.useCallback(async()=>{b(!0);try{let[e,t]=await Promise.all([(0,q.R)(),(0,B.y)()]);f(e),h(t)}catch(t){console.error("Error fetching BOM data:",t),e({title:"Error al Cargar Datos",variant:"destructive"})}finally{b(!1)}},[e]);s.useEffect(()=>{w()},[w,t]);let k=(e,t)=>{N({productSku:e,lines:t}),g(!0)},C=async()=>{g(!1),await w()},S=s.useMemo(()=>{let e=new Map;return a.forEach(t=>{e.has(t.productSku)||e.set(t.productSku,[]),e.get(t.productSku).push(t)}),Array.from(e.entries())},[a]),R=e=>{var t;return(null==(t=x.find(t=>t.sku===e))?void 0:t.name)||e};return(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("header",{className:"flex items-center justify-between gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(o.A,{className:"h-8 w-8 text-primary"}),(0,r.jsx)("h1",{className:"text-3xl font-headline font-semibold",children:"Gesti\xf3n de Recetas (BOM)"})]}),(0,r.jsxs)(n.$,{onClick:()=>{N(null),g(!0)},disabled:j,children:[(0,r.jsx)(c.A,{className:"mr-2 h-4 w-4"})," A\xf1adir Nueva Receta"]})]}),j?(0,r.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,r.jsx)(u.A,{className:"h-12 w-12 animate-spin text-primary"})}):S.length>0?S.map(e=>{let[t,a]=e;return(0,r.jsxs)(l.Zp,{className:"shadow-subtle",children:[(0,r.jsxs)(l.aR,{className:"flex flex-row items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(l.ZB,{children:R(t)}),(0,r.jsxs)(l.BT,{children:["SKU: ",t]})]}),(0,r.jsxs)(n.$,{variant:"outline",size:"sm",onClick:()=>k(t,a),children:[(0,r.jsx)(m.A,{className:"mr-2 h-4 w-4"})," Editar Receta"]})]}),(0,r.jsx)(l.Wu,{children:(0,r.jsxs)(d.XI,{children:[(0,r.jsx)(d.A0,{children:(0,r.jsxs)(d.Hj,{children:[(0,r.jsx)(d.nd,{children:"Componente"}),(0,r.jsx)(d.nd,{children:"SKU Componente"}),(0,r.jsx)(d.nd,{children:"Cantidad Requerida"}),(0,r.jsx)(d.nd,{children:"UoM"})]})}),(0,r.jsx)(d.BF,{children:a.map(e=>(0,r.jsxs)(d.Hj,{children:[(0,r.jsx)(d.nA,{className:"font-medium",children:e.componentName}),(0,r.jsx)(d.nA,{children:e.componentSku||"N/A"}),(0,r.jsx)(d.nA,{children:(0,r.jsx)(F.A,{value:e.quantity})}),(0,r.jsx)(d.nA,{children:e.uom})]},e.id))})]})})]},t)}):(0,r.jsxs)(l.Zp,{className:"text-center p-8 flex flex-col items-center gap-4",children:[(0,r.jsx)(p,{className:"h-12 w-12 text-muted-foreground"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:'No hay recetas definidas. Haz clic en "A\xf1adir Nueva Receta" para empezar.'})]}),(0,r.jsx)(U,{isOpen:v,onOpenChange:g,onSave:C,onDelete:async t=>{await D(t),await w(),g(!1),e({title:"Receta Eliminada",variant:"destructive"})},recipe:y,inventoryItems:x})]})}},18763:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(40157).A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},19564:(e,t,a)=>{"use strict";a.d(t,{y:()=>s});var r=a(34477);let s=(0,r.createServerReference)("7f1e87e0573a6b4c8c91b413e52b517bc8f151c7f9",r.callServer,void 0,r.findSourceMapURL,"getInventoryItemsFS")},21141:(e,t,a)=>{"use strict";a.d(t,{io:()=>i,Ck:()=>o});var r=a(95155),s=a(12115),n=a(34477);let l=(0,n.createServerReference)("7fee17d10823c0e61c4b4cf19391dbb8d88b0cb0d4",n.callServer,void 0,n.findSourceMapURL,"getCategoriesFS"),d=(0,s.createContext)({allCategories:[],isLoading:!0,categoriesMap:new Map,inventoryCategories:[],costCategories:[]});function i(e){let{children:t,dataSignature:a}=e,[n,i]=(0,s.useState)([]),[o,c]=(0,s.useState)(!0);(0,s.useEffect)(()=>{c(!0),l().then(i).catch(console.error).finally(()=>c(!1))},[a]);let u=(0,s.useMemo)(()=>{let e=new Map(n.map(e=>[e.id,e.name])),t=n.filter(e=>"inventory"===e.kind),a=n.filter(e=>"cost"===e.kind);return{allCategories:n,isLoading:o,categoriesMap:e,inventoryCategories:t,costCategories:a}},[n,o]);return(0,r.jsx)(d.Provider,{value:u,children:t})}function o(){let e=(0,s.useContext)(d);if(void 0===e)throw Error("useCategories must be used within a CategoriesProvider");return e}},34301:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(40157).A)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},47262:(e,t,a)=>{"use strict";a.d(t,{S:()=>i});var r=a(95155),s=a(12115),n=a(76981),l=a(10518),d=a(59434);let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.bL,{ref:t,className:(0,d.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...s,children:(0,r.jsx)(n.C1,{className:(0,d.cn)("flex items-center justify-center text-current"),children:(0,r.jsx)(l.A,{className:"h-4 w-4"})})})});i.displayName=n.bL.displayName},54165:(e,t,a)=>{"use strict";a.d(t,{Cf:()=>m,Es:()=>f,HM:()=>c,L3:()=>x,c7:()=>p,lG:()=>i,rr:()=>h});var r=a(95155),s=a(12115),n=a(15452),l=a(25318),d=a(59434);let i=n.bL;n.l9;let o=n.ZL,c=n.bm,u=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.hJ,{ref:t,className:(0,d.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s})});u.displayName=n.hJ.displayName;let m=s.forwardRef((e,t)=>{let{className:a,children:s,...i}=e;return(0,r.jsxs)(o,{children:[(0,r.jsx)(u,{}),(0,r.jsxs)(n.UC,{ref:t,className:(0,d.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...i,children:[s,(0,r.jsxs)(n.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(l.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=n.UC.displayName;let p=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,d.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};p.displayName="DialogHeader";let f=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,d.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};f.displayName="DialogFooter";let x=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.hE,{ref:t,className:(0,d.cn)("text-lg font-semibold leading-none tracking-tight",a),...s})});x.displayName=n.hE.displayName;let h=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.VY,{ref:t,className:(0,d.cn)("text-sm text-muted-foreground",a),...s})});h.displayName=n.VY.displayName},59409:(e,t,a)=>{"use strict";a.d(t,{bq:()=>p,eb:()=>j,gC:()=>h,l6:()=>c,s3:()=>u,yv:()=>m});var r=a(95155),s=a(12115),n=a(31992),l=a(79556),d=a(77381),i=a(10518),o=a(59434);let c=n.bL,u=n.YJ,m=n.WT,p=s.forwardRef((e,t)=>{let{className:a,children:s,...d}=e;return(0,r.jsxs)(n.l9,{ref:t,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...d,children:[s,(0,r.jsx)(n.In,{asChild:!0,children:(0,r.jsx)(l.A,{className:"h-4 w-4 opacity-50"})})]})});p.displayName=n.l9.displayName;let f=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.PP,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",a),...s,children:(0,r.jsx)(d.A,{className:"h-4 w-4"})})});f.displayName=n.PP.displayName;let x=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.wn,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",a),...s,children:(0,r.jsx)(l.A,{className:"h-4 w-4"})})});x.displayName=n.wn.displayName;let h=s.forwardRef((e,t)=>{let{className:a,children:s,position:l="popper",...d}=e;return(0,r.jsx)(n.ZL,{children:(0,r.jsxs)(n.UC,{ref:t,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:l,...d,children:[(0,r.jsx)(f,{}),(0,r.jsx)(n.LM,{className:(0,o.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,r.jsx)(x,{})]})})});h.displayName=n.UC.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.JU,{ref:t,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...s})}).displayName=n.JU.displayName;let j=s.forwardRef((e,t)=>{let{className:a,children:s,...l}=e;return(0,r.jsxs)(n.q7,{ref:t,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...l,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(n.VF,{children:(0,r.jsx)(i.A,{className:"h-4 w-4"})})}),(0,r.jsx)(n.p4,{children:s})]})});j.displayName=n.q7.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.wv,{ref:t,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",a),...s})}).displayName=n.wv.displayName},61930:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var r=a(95155),s=a(12115);let n=e=>{let{value:t,options:a,locale:n="en-US",placeholder:l="N/D"}=e,[d,i]=(0,s.useState)(!1);if((0,s.useEffect)(()=>{i(!0)},[]),"number"!=typeof t||isNaN(t))return(0,r.jsx)(r.Fragment,{children:l});if(!d){let e=2*(t%1!=0);return(0,r.jsx)(r.Fragment,{children:t.toFixed(e)})}return(0,r.jsx)(r.Fragment,{children:t.toLocaleString(n,a)})}},62523:(e,t,a)=>{"use strict";a.d(t,{p:()=>l});var r=a(95155),s=a(12115),n=a(59434);let l=s.forwardRef((e,t)=>{let{className:a,type:s,...l}=e;return(0,r.jsx)("input",{type:s,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...l})});l.displayName="Input"},66424:(e,t,a)=>{"use strict";a.d(t,{F:()=>d});var r=a(95155),s=a(12115),n=a(47655),l=a(59434);let d=s.forwardRef((e,t)=>{let{className:a,children:s,...d}=e;return(0,r.jsxs)(n.bL,{ref:t,className:(0,l.cn)("relative overflow-hidden",a),...d,children:[(0,r.jsx)(n.LM,{className:"h-full w-full rounded-[inherit]",children:s}),(0,r.jsx)(i,{}),(0,r.jsx)(n.OK,{})]})});d.displayName=n.bL.displayName;let i=s.forwardRef((e,t)=>{let{className:a,orientation:s="vertical",...d}=e;return(0,r.jsx)(n.VM,{ref:t,orientation:s,className:(0,l.cn)("flex touch-none select-none transition-colors","vertical"===s&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===s&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a),...d,children:(0,r.jsx)(n.lr,{className:"relative flex-1 rounded-full bg-border"})})});i.displayName=n.VM.displayName},72463:(e,t,a)=>{Promise.resolve().then(a.bind(a,4520))},74601:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(40157).A)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},76981:(e,t,a)=>{"use strict";a.d(t,{C1:()=>w,bL:()=>v});var r=a(12115),s=a(6101),n=a(46081),l=a(85185),d=a(5845),i=a(45503),o=a(11275),c=a(28905),u=a(63655),m=a(95155),p="Checkbox",[f,x]=(0,n.A)(p),[h,j]=f(p);function b(e){let{__scopeCheckbox:t,checked:a,children:s,defaultChecked:n,disabled:l,form:i,name:o,onCheckedChange:c,required:u,value:f="on",internal_do_not_use_render:x}=e,[j,b]=(0,d.i)({prop:a,defaultProp:null!=n&&n,onChange:c,caller:p}),[y,N]=r.useState(null),[v,g]=r.useState(null),w=r.useRef(!1),k=!y||!!i||!!y.closest("form"),C={checked:j,disabled:l,setChecked:b,control:y,setControl:N,name:o,form:i,value:f,hasConsumerStoppedPropagationRef:w,required:u,defaultChecked:!S(n)&&n,isFormControl:k,bubbleInput:v,setBubbleInput:g};return(0,m.jsx)(h,{scope:t,...C,children:"function"==typeof x?x(C):s})}var y="CheckboxTrigger",N=r.forwardRef((e,t)=>{let{__scopeCheckbox:a,onKeyDown:n,onClick:d,...i}=e,{control:o,value:c,disabled:p,checked:f,required:x,setControl:h,setChecked:b,hasConsumerStoppedPropagationRef:N,isFormControl:v,bubbleInput:g}=j(y,a),w=(0,s.s)(t,h),k=r.useRef(f);return r.useEffect(()=>{let e=null==o?void 0:o.form;if(e){let t=()=>b(k.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[o,b]),(0,m.jsx)(u.sG.button,{type:"button",role:"checkbox","aria-checked":S(f)?"mixed":f,"aria-required":x,"data-state":R(f),"data-disabled":p?"":void 0,disabled:p,value:c,...i,ref:w,onKeyDown:(0,l.m)(n,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,l.m)(d,e=>{b(e=>!!S(e)||!e),g&&v&&(N.current=e.isPropagationStopped(),N.current||e.stopPropagation())})})});N.displayName=y;var v=r.forwardRef((e,t)=>{let{__scopeCheckbox:a,name:r,checked:s,defaultChecked:n,required:l,disabled:d,value:i,onCheckedChange:o,form:c,...u}=e;return(0,m.jsx)(b,{__scopeCheckbox:a,checked:s,defaultChecked:n,disabled:d,required:l,onCheckedChange:o,name:r,form:c,value:i,internal_do_not_use_render:e=>{let{isFormControl:r}=e;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(N,{...u,ref:t,__scopeCheckbox:a}),r&&(0,m.jsx)(C,{__scopeCheckbox:a})]})}})});v.displayName=p;var g="CheckboxIndicator",w=r.forwardRef((e,t)=>{let{__scopeCheckbox:a,forceMount:r,...s}=e,n=j(g,a);return(0,m.jsx)(c.C,{present:r||S(n.checked)||!0===n.checked,children:(0,m.jsx)(u.sG.span,{"data-state":R(n.checked),"data-disabled":n.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});w.displayName=g;var k="CheckboxBubbleInput",C=r.forwardRef((e,t)=>{let{__scopeCheckbox:a,...n}=e,{control:l,hasConsumerStoppedPropagationRef:d,checked:c,defaultChecked:p,required:f,disabled:x,name:h,value:b,form:y,bubbleInput:N,setBubbleInput:v}=j(k,a),g=(0,s.s)(t,v),w=(0,i.Z)(c),C=(0,o.X)(l);r.useEffect(()=>{if(!N)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,t=!d.current;if(w!==c&&e){let a=new Event("click",{bubbles:t});N.indeterminate=S(c),e.call(N,!S(c)&&c),N.dispatchEvent(a)}},[N,w,c,d]);let R=r.useRef(!S(c)&&c);return(0,m.jsx)(u.sG.input,{type:"checkbox","aria-hidden":!0,defaultChecked:null!=p?p:R.current,required:f,disabled:x,name:h,value:b,form:y,...n,tabIndex:-1,ref:g,style:{...n.style,...C,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function S(e){return"indeterminate"===e}function R(e){return S(e)?"indeterminate":e?"checked":"unchecked"}C.displayName=k},84143:(e,t,a)=>{"use strict";a.d(t,{R:()=>s});var r=a(34477);let s=(0,r.createServerReference)("7f23023acca05a0994ead461db05815a90f02745c1",r.callServer,void 0,r.findSourceMapURL,"getBomLinesFS")},85127:(e,t,a)=>{"use strict";a.d(t,{A0:()=>d,BF:()=>i,Hj:()=>o,XI:()=>l,nA:()=>u,nd:()=>c});var r=a(95155),s=a(12115),n=a(59434);let l=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{className:"relative w-full overflow-auto",children:(0,r.jsx)("table",{ref:t,className:(0,n.cn)("w-full caption-bottom text-sm",a),...s})})});l.displayName="Table";let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("thead",{ref:t,className:(0,n.cn)("[&_tr]:border-b",a),...s})});d.displayName="TableHeader";let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("tbody",{ref:t,className:(0,n.cn)("[&_tr:last-child]:border-0",a),...s})});i.displayName="TableBody",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("tfoot",{ref:t,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...s})}).displayName="TableFooter";let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("tr",{ref:t,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...s})});o.displayName="TableRow";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("th",{ref:t,className:(0,n.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...s})});c.displayName="TableHead";let u=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("td",{ref:t,className:(0,n.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...s})});u.displayName="TableCell",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("caption",{ref:t,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",a),...s})}).displayName="TableCaption"},90010:(e,t,a)=>{"use strict";a.d(t,{$v:()=>h,EO:()=>m,Lt:()=>i,Rx:()=>j,Zr:()=>b,ck:()=>f,r7:()=>x,tv:()=>o,wd:()=>p});var r=a(95155),s=a(12115),n=a(17649),l=a(59434),d=a(30285);let i=n.bL,o=n.l9,c=n.ZL,u=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.hJ,{className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s,ref:t})});u.displayName=n.hJ.displayName;let m=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsxs)(c,{children:[(0,r.jsx)(u,{}),(0,r.jsx)(n.UC,{ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...s})]})});m.displayName=n.UC.displayName;let p=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...a})};p.displayName="AlertDialogHeader";let f=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};f.displayName="AlertDialogFooter";let x=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.hE,{ref:t,className:(0,l.cn)("text-lg font-semibold",a),...s})});x.displayName=n.hE.displayName;let h=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.VY,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",a),...s})});h.displayName=n.VY.displayName;let j=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.rc,{ref:t,className:(0,l.cn)((0,d.r)(),a),...s})});j.displayName=n.rc.displayName;let b=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.ZD,{ref:t,className:(0,l.cn)((0,d.r)({variant:"outline"}),"mt-2 sm:mt-0",a),...s})});b.displayName=n.ZD.displayName}},e=>{var t=t=>e(e.s=t);e.O(0,[2992,7138,5769,8884,1915,1490,587,7328,8965,1859,6764,7655,6315,8441,1684,7358],()=>t(72463)),_N_E=e.O()}]);