(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1536],{1605:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>Q});var s=t(95155),l=t(12115),r=t(51055),n=t(79557),i=t(65331),o=t(16021),c=t(83343),d=t(44861),u=t(770),m=t(33520),x=t(50172),h=t(31949),p=t(34301),f=t(87687),g=t(15300),j=t(57082),v=t(94815),b=t(91467),N=t(88390),y=t(81203),w=t(6874),k=t.n(w),A=t(30285),C=t(5002),R=t(91950),V=t(66695),E=t(24944),q=t(61930),S=t(59434);function _(e){let{kpis:a}=e;return(0,s.jsx)("section",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5",children:a.map(e=>{let a=e.targetValue>0?Math.min(e.currentValue/e.targetValue*100,100):100*(e.currentValue>0),t=["kpi2","kpi3","kpi4"].includes(e.id),l="kpi1"===e.id,r="kpi5"===e.id,n="";return t?n="[&>div]:bg-[hsl(var(--brand-turquoise-hsl))]":l?n="[&>div]:bg-primary":r&&(n="[&>div]:bg-accent"),(0,s.jsxs)(V.Zp,{className:"shadow-subtle hover:shadow-md transition-shadow duration-300",children:[(0,s.jsx)(V.aR,{className:"pb-2",children:(0,s.jsxs)("div",{className:"flex flex-row items-center justify-between space-y-0",children:[(0,s.jsx)(V.ZB,{className:"text-sm font-medium",children:e.title}),e.icon&&(0,s.jsx)(e.icon,{className:"h-5 w-5 text-muted-foreground"})]})}),(0,s.jsxs)(V.Wu,{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"text-3xl font-bold",children:[(0,s.jsx)(q.A,{value:e.currentValue,locale:"es-ES"}),"%"===e.unit&&"%"]}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Objetivo: ",(0,s.jsx)(q.A,{value:e.targetValue,locale:"es-ES"})," ",e.unit]}),(0,s.jsx)(E.k,{value:a,"aria-label":"".concat(a.toFixed(0),"% completado"),className:(0,S.cn)("h-2",n)})]})]},e.id)})})}var T=t(81499),D=t(3401),B=t(94754),I=t(96025),Z=t(16238),M=t(83394),L=t(54811),P=t(36079);let F={value:{label:"Botellas"},ventasEquipo:{label:"Ventas Equipo",color:"hsl(var(--brand-turquoise-hsl))"},restoCanales:{label:"Resto Canales",color:"hsl(var(--primary))"}};function z(e){let{teamSales:a,otherSales:t}=e,r=(0,l.useMemo)(()=>[{name:"Ventas Equipo",value:a,fill:"hsl(var(--brand-turquoise-hsl))"},{name:"Resto Canales",value:t,fill:"hsl(var(--primary))"}].filter(e=>e.value>0),[a,t]);return 0===a&&0===t?(0,s.jsxs)(V.Zp,{className:"md:col-span-2 shadow-subtle",children:[(0,s.jsxs)(V.aR,{children:[(0,s.jsx)(V.ZB,{children:"Distribuci\xf3n de Ventas (Botellas)"}),(0,s.jsx)(V.BT,{children:"A\xfan no hay datos de ventas para mostrar la distribuci\xf3n."})]}),(0,s.jsx)(V.Wu,{className:"h-[300px] flex items-center justify-center",children:(0,s.jsx)("p",{className:"text-muted-foreground",children:"Sin datos de ventas."})})]}):(0,s.jsxs)(V.Zp,{className:"md:col-span-2 shadow-subtle hover:shadow-md transition-shadow duration-300",children:[(0,s.jsxs)(V.aR,{children:[(0,s.jsx)(V.ZB,{children:"Distribuci\xf3n de Ventas (Botellas)"}),(0,s.jsx)(V.BT,{children:"Visualiza la contribuci\xf3n de las ventas del equipo frente a otros canales de venta."})]}),(0,s.jsx)(V.Wu,{className:"h-[300px] pr-0",children:(0,s.jsx)(T.at,{config:F,className:"h-full w-full",children:(0,s.jsxs)(D.E,{data:r,layout:"vertical",margin:{top:5,right:10,left:10,bottom:5},barCategoryGap:"25%",children:[(0,s.jsx)(B.d,{strokeDasharray:"3 3",horizontal:!1}),(0,s.jsx)(I.W,{type:"number",tickFormatter:e=>"".concat(e/1e3,"k")}),(0,s.jsx)(Z.h,{dataKey:"name",type:"category",tickLine:!1,axisLine:!1,width:100}),(0,s.jsx)(T.II,{cursor:{fill:"hsl(var(--muted)/0.5)"},content:(0,s.jsx)(T.Nt,{hideLabel:!0})}),(0,s.jsxs)(M.y,{dataKey:"value",radius:4,children:[r.map((e,a)=>(0,s.jsx)(L.f,{fill:e.fill},"cell-".concat(a))),(0,s.jsx)(P.Z,{dataKey:"value",position:"right",offset:8,className:"fill-foreground",fontSize:12,formatter:e=>e.toLocaleString("es-ES")})]})]})})})]})}var W=t(58127),K=t(70154);function H(e){let{objectives:a}=e,t=a.slice(0,5),l=a.length-t.length;return(0,s.jsxs)(V.Zp,{className:"shadow-subtle hover:shadow-md transition-shadow duration-300",children:[(0,s.jsxs)(V.aR,{children:[(0,s.jsx)(V.ZB,{children:"Objetivos Estrat\xe9gicos Clave"}),(0,s.jsx)(V.BT,{children:"Resumen de los principales objetivos estrat\xe9gicos cualitativos de la empresa. Gesti\xf3n completa en Configuraci\xf3n."})]}),(0,s.jsxs)(V.Wu,{children:[a.length>0?(0,s.jsx)("ul",{className:"space-y-3",children:t.map(e=>(0,s.jsxs)("li",{className:"flex items-start space-x-3 p-3 bg-secondary/20 rounded-md shadow-sm",children:[e.completed?(0,s.jsx)(W.A,{className:"h-5 w-5 text-green-500 flex-shrink-0 mt-0.5"}):(0,s.jsx)(K.A,{className:"h-5 w-5 text-yellow-500 flex-shrink-0 mt-0.5"}),(0,s.jsx)("p",{className:(0,S.cn)("text-sm",e.completed&&"line-through text-muted-foreground"),children:e.text})]},e.id))}):(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"No hay objetivos estrat\xe9gicos definidos. Pueden gestionarse desde la secci\xf3n de Configuraci\xf3n."}),l>0&&(0,s.jsxs)("p",{className:"text-xs text-muted-foreground mt-3",children:["Y ",l," m\xe1s objetivos. Ver todos en Configuraci\xf3n."]})]})]})}var O=t(8782),$=t(34e3),G=t(24026),U=t(55365);function Q(){let{userRole:e,teamMember:a,dataSignature:t,refreshDataSignature:w}=(0,r.A)(),[D,B]=(0,l.useState)(!0),[I,Z]=(0,l.useState)([]),[M,P]=(0,l.useState)([]),[F,W]=(0,l.useState)([]);(0,l.useEffect)(()=>{!async function(){B(!0);try{let[e,a,t]=await Promise.all([(0,n.r)(),(0,i.U)(),(0,o.I)(["SalesRep"])]);Z(e),P(a),W(t)}catch(e){console.error("Error loading dashboard data:",e)}finally{B(!1)}}()},[t,e,a]);let K=(0,l.useMemo)(()=>{var t,s,l,r,n,i;if(D||!a)return null;let o=I.filter(e=>R.s.includes(e.status)&&(e.createdAt||e.visitDate)).map(e=>({...e,relevantDate:(0,c.H)(e.visitDate||e.createdAt)})).filter(e=>(0,d.f)(e.relevantDate));if("Clavadista"===e||"L\xedder Clavadista"===e){let e=I.filter(e=>e.embajadorId===a.id),t=M.filter(e=>e.embajadorId===a.id),s=e.filter(e=>R.s.includes(e.status)).length;return{isClavadista:!0,totalCuentas:t.length,totalPedidos:s,totalComisiones:a.total_comisiones||0,totalBonus:a.total_bonus||0}}let x=new Set(F.map(e=>e.name));x.add("Federica");let h=new Date,p=new Map;M.forEach(e=>{e.nombre&&p.set(e.nombre.toLowerCase().trim(),e.id)});let f=o.map(e=>({...e,accountId:e.accountId||p.get(e.clientName.toLowerCase().trim())})).filter(e=>e.accountId),g=new Map;for(let e of f.sort((e,a)=>e.relevantDate.getTime()-a.relevantDate.getTime()))g.has(e.accountId)||g.set(e.accountId,e);let j=Array.from(g.values()).filter(e=>x.has(e.salesRep)),v=j.filter(e=>(0,u.s)(e.relevantDate,h)).length,b=j.filter(e=>(0,m.t)(e.relevantDate,h)).length,N=Array.from(g.keys()).length,y=0;for(let e of g.keys())f.filter(a=>a.accountId===e).length>1&&y++;let w=N>0?Math.round(y/N*100):0,k=o.reduce((e,a)=>e+(a.numberOfUnits||0),0),A=o.filter(e=>x.has(e.salesRep)).reduce((e,a)=>e+(a.numberOfUnits||0),0),V=C.iN.map(e=>{let a=0;switch(e.id){case"kpi1":a=k;break;case"kpi2":a=A;break;case"kpi3":a=v;break;case"kpi4":a=b;break;case"kpi5":a=w}return{...e,currentValue:a}}),E=[];if("SalesRep"===e&&a){let e=j.filter(e=>e.salesRep===a.name&&(0,m.t)(e.relevantDate,h)).length,t=I.filter(e=>e.salesRep===a.name&&(0,d.f)((0,c.H)(e.createdAt||e.visitDate))&&(0,m.t)((0,c.H)(e.createdAt||e.visitDate),h)&&R.H.includes(e.status)).length;E=[{title:"Cuentas Nuevas",target:a.monthlyTargetAccounts||0,current:e,unit:"cuentas",colorClass:"[&>div]:bg-primary"},{title:"Visitas Realizadas",target:a.monthlyTargetVisits||0,current:t,unit:"visitas",colorClass:"[&>div]:bg-primary"}]}else if("Admin"===e){let e=F.reduce((e,a)=>e+(a.monthlyTargetAccounts||0),0);E=[{title:"Cuentas Nuevas del Equipo",target:e,current:b,unit:"cuentas",colorClass:"[&>div]:bg-[hsl(var(--brand-turquoise-hsl))]"},{title:"Visitas del Equipo",target:F.reduce((e,a)=>e+(a.monthlyTargetVisits||0),0),current:I.filter(e=>x.has(e.salesRep)&&(0,d.f)((0,c.H)(e.createdAt||e.visitDate))&&(0,m.t)((0,c.H)(e.createdAt||e.visitDate),h)&&R.H.includes(e.status)).length,unit:"visitas",colorClass:"[&>div]:bg-[hsl(var(--brand-turquoise-hsl))]"}]}let q=V.find(e=>"kpi2"===e.id),S=[{name:"Alcanzado",value:null!=(t=null==q?void 0:q.currentValue)?t:0,color:"hsl(var(--brand-turquoise-hsl))"},{name:"Faltante",value:Math.max(0,(null!=(s=null==q?void 0:q.targetValue)?s:0)-(null!=(l=null==q?void 0:q.currentValue)?l:0)),color:"hsl(var(--muted))"}],_=V.find(e=>"kpi3"===e.id);return{isClavadista:!1,kpis:V,monthlyProgressTitle:"Admin"===e?"Progreso Mensual del Equipo":"Tu Progreso Mensual",showMonthlyProgress:"Admin"===e||"SalesRep"===e,monthlyProgressMetrics:E,teamSales:A,otherSales:Math.max(0,k-A),progresoVentasEquipoData:S,progresoCuentasEquipoData:[{name:"Alcanzado",value:null!=(r=null==_?void 0:_.currentValue)?r:0,color:"hsl(var(--brand-turquoise-hsl))"},{name:"Faltante",value:Math.max(0,(null!=(n=null==_?void 0:_.targetValue)?n:0)-(null!=(i=null==_?void 0:_.currentValue)?i:0)),color:"hsl(var(--muted))"}],objectives:C.$w}},[D,I,M,F,e,a]);if(D||!K)return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center h-full p-8",role:"status","aria-live":"polite",children:[(0,s.jsx)(x.A,{className:"h-12 w-12 animate-spin text-primary"}),(0,s.jsx)("p",{className:"mt-4 text-muted-foreground",children:"Cargando datos del dashboard..."})]});let Q="Admin"===e||"SalesRep"===e||"Clavadista"===e||"L\xedder Clavadista"===e;return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("h1",{className:"text-3xl font-headline font-semibold",children:["Hola, ",(null==a?void 0:a.name)||"Santa Brisa"]}),(0,s.jsxs)(U.Fc,{className:"bg-amber-100 border-amber-300 text-amber-900 dark:bg-amber-950 dark:border-amber-800 dark:text-amber-100",children:[(0,s.jsx)(h.A,{className:"h-4 w-4 !text-amber-600 dark:!text-amber-400"}),(0,s.jsx)(U.XL,{className:"font-bold text-amber-900 dark:text-amber-200",children:"\xa1Atenci\xf3n! Entorno de Pruebas con Datos Reales"}),(0,s.jsxs)(U.TN,{className:"text-amber-800 dark:text-amber-300",children:["Este es un entorno de pruebas activo, pero toda la informaci\xf3n que introduzcas (clientes, pedidos, interacciones) ",(0,s.jsx)("strong",{children:"se est\xe1 guardando en la base de datos real."}),(0,s.jsx)("br",{}),"Tu feedback es crucial. Si encuentras alg\xfan fallo, tienes alguna duda o una sugerencia para mejorar la herramienta, por favor, ",(0,s.jsx)("strong",{children:"comun\xedcalo directamente al administrador."})," \xa1Gracias por tu colaboraci\xf3n!"]})]}),Q&&(0,s.jsx)("div",{className:"grid grid-cols-2 gap-4",children:"Admin"===e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(A.$,{asChild:!0,className:"h-20 text-base flex-col gap-1 bg-accent text-accent-foreground hover:bg-accent/90",children:(0,s.jsxs)(k(),{href:"/direct-sales-sb/new",children:[(0,s.jsx)(p.A,{className:"h-6 w-6 mb-1"})," A\xf1adir Venta"]})}),(0,s.jsx)(A.$,{asChild:!0,className:"h-20 text-base flex-col gap-1 bg-accent text-accent-foreground hover:bg-accent/90",children:(0,s.jsxs)(k(),{href:"/request-sample",children:[(0,s.jsx)(f.A,{className:"h-6 w-6 mb-1"})," Solicitar Muestras"]})})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(A.$,{asChild:!0,className:"h-20 text-base flex-col gap-1 bg-accent text-accent-foreground hover:bg-accent/90",children:(0,s.jsxs)(k(),{href:"/order-form",children:[(0,s.jsx)(g.A,{className:"h-6 w-6 mb-1"})," Registrar Interacci\xf3n"]})}),(0,s.jsx)(A.$,{asChild:!0,className:"h-20 text-base flex-col gap-1 bg-accent text-accent-foreground hover:bg-accent/90",children:(0,s.jsxs)(k(),{href:"/request-sample",children:[(0,s.jsx)(f.A,{className:"h-6 w-6 mb-1"})," Solicitar Muestras"]})})]})}),K.isClavadista?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h2",{className:"text-2xl font-headline font-semibold pt-4 border-t",children:"Panel de Clavadista"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,s.jsxs)(V.Zp,{className:"shadow-subtle",children:[(0,s.jsxs)(V.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(V.ZB,{className:"text-sm font-medium",children:"Cuentas Nuevas Creadas"}),(0,s.jsx)(j.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsx)(V.Wu,{children:(0,s.jsx)("div",{className:"text-2xl font-bold",children:(0,s.jsx)(q.A,{value:K.totalCuentas})})})]}),(0,s.jsxs)(V.Zp,{className:"shadow-subtle",children:[(0,s.jsxs)(V.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(V.ZB,{className:"text-sm font-medium",children:"Pedidos Totales Registrados"}),(0,s.jsx)(v.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsx)(V.Wu,{children:(0,s.jsx)("div",{className:"text-2xl font-bold",children:(0,s.jsx)(q.A,{value:K.totalPedidos})})})]}),(0,s.jsxs)(V.Zp,{className:"shadow-subtle",children:[(0,s.jsxs)(V.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(V.ZB,{className:"text-sm font-medium",children:"Bonus Totales"}),(0,s.jsx)(b.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsxs)(V.Wu,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:(0,s.jsx)(q.A,{value:K.totalBonus,options:{style:"currency",currency:"EUR"}})}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Fees de apertura y consolidaci\xf3n."})]})]}),(0,s.jsxs)(V.Zp,{className:"shadow-subtle",children:[(0,s.jsxs)(V.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(V.ZB,{className:"text-sm font-medium",children:"Comisiones Totales"}),(0,s.jsx)(N.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsxs)(V.Wu,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:(0,s.jsx)(q.A,{value:K.totalComisiones,options:{style:"currency",currency:"EUR"}})}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Comisiones generadas por ventas."})]})]})]})]}):(0,s.jsxs)(s.Fragment,{children:[K.showMonthlyProgress&&K.monthlyProgressMetrics.length>0&&(0,s.jsxs)(V.Zp,{className:"shadow-subtle",children:[(0,s.jsx)(V.aR,{children:(0,s.jsxs)(V.ZB,{className:"flex items-center",children:[(0,s.jsx)(y.A,{className:"mr-2 h-5 w-5 text-primary"}),K.monthlyProgressTitle]})}),(0,s.jsx)(V.Wu,{className:"space-y-4",children:K.monthlyProgressMetrics.map(e=>{let a=e.target>0?Math.min(e.current/e.target*100,100):100*(e.current>0),t=e.target>0&&e.current>=e.target;return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between items-baseline mb-1",children:[(0,s.jsx)("span",{className:"text-sm font-medium",children:e.title}),(0,s.jsxs)("span",{className:"text-sm text-muted-foreground",children:[(0,s.jsx)(q.A,{value:e.current})," / ",(0,s.jsx)(q.A,{value:e.target})]})]}),(0,s.jsx)(E.k,{value:a,className:(0,S.cn)("h-2",t?"[&>div]:bg-green-500":e.colorClass)})]},e.title)})})]}),(0,s.jsx)("h2",{className:"text-2xl font-headline font-semibold pt-4 border-t",children:"Panel de Lanzamiento"}),(0,s.jsx)(_,{kpis:K.kpis}),(0,s.jsxs)("section",{className:"grid gap-6 md:grid-cols-3",children:[(0,s.jsx)(z,{teamSales:K.teamSales,otherSales:K.otherSales}),(0,s.jsxs)("div",{className:"space-y-6 md:col-span-1",children:[(0,s.jsxs)(V.Zp,{className:"shadow-subtle hover:shadow-md transition-shadow duration-300",children:[(0,s.jsxs)(V.aR,{children:[(0,s.jsx)(V.ZB,{children:"Progreso Ventas del Equipo"}),(0,s.jsx)(V.BT,{children:"Seguimiento del objetivo anual de ventas en botellas para el equipo comercial."})]}),(0,s.jsx)(V.Wu,{className:"h-[150px] flex items-center justify-center",children:(0,s.jsx)(T.at,{config:{},className:"h-full w-full aspect-square","aria-label":"Gr\xe1fico de progreso de ventas del equipo",children:(0,s.jsxs)(O.r,{margin:{top:0,right:0,bottom:0,left:0},children:[(0,s.jsx)($.F,{data:K.progresoVentasEquipoData,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:"60%",outerRadius:"80%",paddingAngle:2,labelLine:!1,children:K.progresoVentasEquipoData.map(e=>(0,s.jsx)(L.f,{fill:e.color,stroke:e.color},"cell-".concat(e.name)))}),(0,s.jsx)(T.II,{cursor:!1,content:(0,s.jsx)(T.Nt,{hideIndicator:!0,formatter:(e,a,t)=>{var l,r,n;return(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[" ",(0,s.jsx)("span",{className:"font-medium text-sm",style:{color:null==(l=t.payload)?void 0:l.color},children:null==(r=t.payload)?void 0:r.name})," ",(0,s.jsxs)("span",{className:"text-xs",children:[(0,s.jsx)(q.A,{value:null==(n=t.payload)?void 0:n.value})," botellas"]})," "]})}})}),(0,s.jsx)(G.s,{verticalAlign:"bottom",height:36,content:e=>{let{payload:a}=e;return(0,s.jsxs)("ul",{className:"flex items-center justify-center gap-x-4 text-xs",children:[" ",null==a?void 0:a.map(e=>(0,s.jsxs)("li",{className:"flex items-center gap-1",children:[" ",(0,s.jsx)("span",{className:"size-2.5 rounded-full",style:{backgroundColor:e.color}})," ",e.value," "]},"item-".concat(e.value)))," "]})}})]})})})]}),(0,s.jsxs)(V.Zp,{className:"shadow-subtle hover:shadow-md transition-shadow duration-300",children:[(0,s.jsxs)(V.aR,{children:[(0,s.jsx)(V.ZB,{children:"Progreso Cuentas Equipo (Anual)"}),(0,s.jsx)(V.BT,{children:"Seguimiento del objetivo anual de creaci\xf3n de nuevas cuentas para el equipo comercial."})]}),(0,s.jsx)(V.Wu,{className:"h-[150px] flex items-center justify-center",children:(0,s.jsx)(T.at,{config:{},className:"h-full w-full aspect-square","aria-label":"Gr\xe1fico de progreso de cuentas anuales del equipo",children:(0,s.jsxs)(O.r,{margin:{top:0,right:0,bottom:0,left:0},children:[(0,s.jsx)($.F,{data:K.progresoCuentasEquipoData,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:"60%",outerRadius:"80%",paddingAngle:2,labelLine:!1,children:K.progresoCuentasEquipoData.map(e=>(0,s.jsx)(L.f,{fill:e.color,stroke:e.color},"cell-".concat(e.name)))}),(0,s.jsx)(T.II,{cursor:!1,content:(0,s.jsx)(T.Nt,{hideIndicator:!0,formatter:(e,a,t)=>{var l,r,n;return(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[" ",(0,s.jsx)("span",{className:"font-medium text-sm",style:{color:null==(l=t.payload)?void 0:l.color},children:null==(r=t.payload)?void 0:r.name})," ",(0,s.jsxs)("span",{className:"text-xs",children:[(0,s.jsx)(q.A,{value:null==(n=t.payload)?void 0:n.value})," cuentas"]})," "]})}})}),(0,s.jsx)(G.s,{verticalAlign:"bottom",height:36,content:e=>{let{payload:a}=e;return(0,s.jsxs)("ul",{className:"flex items-center justify-center gap-x-4 text-xs",children:[" ",null==a?void 0:a.map(e=>(0,s.jsxs)("li",{className:"flex items-center gap-1",children:[" ",(0,s.jsx)("span",{className:"size-2.5 rounded-full",style:{backgroundColor:e.color}})," ",e.value," "]},"item-".concat(e.value)))," "]})}})]})})})]})]})]}),(0,s.jsx)("div",{className:"grid gap-6 md:grid-cols-2",children:(0,s.jsx)(H,{objectives:K.objectives})})]})]})}},5002:(e,a,t)=>{"use strict";t.d(a,{$w:()=>c,iN:()=>o});var s=t(80659),l=t(50286),r=t(57082),n=t(58875),i=t(59069);let o=[{id:"kpi1",title:"Ventas Totales",currentValue:0,targetValue:5e4,unit:"botellas",icon:s.A},{id:"kpi2",title:"Ventas del Equipo",currentValue:0,targetValue:27e3,unit:"botellas",icon:l.A},{id:"kpi3",title:"Cuentas Nuevas Equipo (Anual)",currentValue:0,targetValue:230,unit:"cuentas",icon:r.A},{id:"kpi4",title:"Cuentas Nuevas Equipo (Mensual)",currentValue:0,targetValue:32,unit:"cuentas",icon:n.A},{id:"kpi5",title:"% Tasa de Recompra",currentValue:0,targetValue:60,unit:"%",icon:i.A}];o.find(e=>"kpi2"===e.id).targetValue,o.find(e=>"kpi3"===e.id).targetValue;let c=[{id:"obj1",text:"Expandirse al nuevo mercado de la regi\xf3n Sur para Q4.",completed:!1},{id:"obj2",text:"Aumentar el promedio de botellas por pedido en un 10% en Q3.",completed:!0},{id:"obj3",text:"Lanzar nueva l\xednea de productos premium (botellas especiales) para fin de a\xf1o.",completed:!1},{id:"obj4",text:"Alcanzar una tasa de satisfacci\xf3n del cliente del 95%.",completed:!1},{id:"obj5",text:"Optimizar la cadena de suministro para reducir costes de env\xedo en un 5%.",completed:!1},{id:"obj6",text:"Implementar un programa de fidelizaci\xf3n de clientes HORECA para Q2.",completed:!0}]},24944:(e,a,t)=>{"use strict";t.d(a,{k:()=>i});var s=t(95155),l=t(12115),r=t(55863),n=t(59434);let i=l.forwardRef((e,a)=>{let{className:t,value:l,...i}=e;return(0,s.jsx)(r.bL,{ref:a,className:(0,n.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...i,children:(0,s.jsx)(r.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(l||0),"%)")}})})});i.displayName=r.bL.displayName},55365:(e,a,t)=>{"use strict";t.d(a,{Fc:()=>o,TN:()=>d,XL:()=>c});var s=t(95155),l=t(12115),r=t(74466),n=t(59434);let i=(0,r.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),o=l.forwardRef((e,a)=>{let{className:t,variant:l,...r}=e;return(0,s.jsx)("div",{ref:a,role:"alert",className:(0,n.cn)(i({variant:l}),t),...r})});o.displayName="Alert";let c=l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,s.jsx)("h5",{ref:a,className:(0,n.cn)("mb-1 font-medium leading-none tracking-tight",t),...l})});c.displayName="AlertTitle";let d=l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,s.jsx)("div",{ref:a,className:(0,n.cn)("text-sm [&_p]:leading-relaxed",t),...l})});d.displayName="AlertDescription"},59833:(e,a,t)=>{Promise.resolve().then(t.bind(t,1605))},81499:(e,a,t)=>{"use strict";t.d(a,{II:()=>h,Nt:()=>p,at:()=>m});var s=t(95155),l=t(12115),r=t(83540),n=t(94517),i=t(24026),o=t(59434);let c={light:"",dark:".dark"},d=l.createContext(null);function u(){let e=l.useContext(d);if(!e)throw Error("useChart must be used within a <ChartContainer />");return e}let m=l.forwardRef((e,a)=>{let{id:t,className:n,children:i,config:c,...u}=e,m=l.useId(),h="chart-".concat(t||m.replace(/:/g,""));return(0,s.jsx)(d.Provider,{value:{config:c},children:(0,s.jsxs)("div",{"data-chart":h,ref:a,className:(0,o.cn)("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",n),...u,children:[(0,s.jsx)(x,{id:h,config:c}),(0,s.jsx)(r.u,{children:i})]})})});m.displayName="Chart";let x=e=>{let{id:a,config:t}=e,l=Object.entries(t).filter(e=>{let[,a]=e;return a.theme||a.color});return l.length?(0,s.jsx)("style",{dangerouslySetInnerHTML:{__html:Object.entries(c).map(e=>{let[t,s]=e;return"\n".concat(s," [data-chart=").concat(a,"] {\n").concat(l.map(e=>{var a;let[s,l]=e,r=(null==(a=l.theme)?void 0:a[t])||l.color;return r?"  --color-".concat(s,": ").concat(r,";"):null}).join("\n"),"\n}\n")}).join("\n")}}):null},h=n.m,p=l.forwardRef((e,a)=>{let{active:t,payload:r,className:n,indicator:i="dot",hideLabel:c=!1,hideIndicator:d=!1,label:m,labelFormatter:x,labelClassName:h,formatter:p,color:g,nameKey:j,labelKey:v}=e,{config:b}=u(),N=l.useMemo(()=>{var e;if(c||!(null==r?void 0:r.length))return null;let[a]=r,t="".concat(v||a.dataKey||a.name||"value"),l=f(b,a,t),n=v||"string"!=typeof m?null==l?void 0:l.label:(null==(e=b[m])?void 0:e.label)||m;return x?(0,s.jsx)("div",{className:(0,o.cn)("font-medium",h),children:x(n,r)}):n?(0,s.jsx)("div",{className:(0,o.cn)("font-medium",h),children:n}):null},[m,x,r,c,h,b,v]);if(!t||!(null==r?void 0:r.length))return null;let y=1===r.length&&"dot"!==i;return(0,s.jsxs)("div",{ref:a,className:(0,o.cn)("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",n),children:[y?null:N,(0,s.jsx)("div",{className:"grid gap-1.5",children:r.map((e,a)=>{let t="".concat(j||e.name||e.dataKey||"value"),l=f(b,e,t),r=g||e.payload.fill||e.color;return(0,s.jsx)("div",{className:(0,o.cn)("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground","dot"===i&&"items-center"),children:p&&(null==e?void 0:e.value)!==void 0&&e.name?p(e.value,e.name,e,a,e.payload):(0,s.jsxs)(s.Fragment,{children:[(null==l?void 0:l.icon)?(0,s.jsx)(l.icon,{}):!d&&(0,s.jsx)("div",{className:(0,o.cn)("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":"dot"===i,"w-1":"line"===i,"w-0 border-[1.5px] border-dashed bg-transparent":"dashed"===i,"my-0.5":y&&"dashed"===i}),style:{"--color-bg":r,"--color-border":r}}),(0,s.jsxs)("div",{className:(0,o.cn)("flex flex-1 justify-between leading-none",y?"items-end":"items-center"),children:[(0,s.jsxs)("div",{className:"grid gap-1.5",children:[y?N:null,(0,s.jsx)("span",{className:"text-muted-foreground",children:(null==l?void 0:l.label)||e.name})]}),e.value&&(0,s.jsx)("span",{className:"font-mono font-medium tabular-nums text-foreground",children:e.value.toLocaleString()})]})]})},e.dataKey)})})]})});function f(e,a,t){if("object"!=typeof a||null===a)return;let s="payload"in a&&"object"==typeof a.payload&&null!==a.payload?a.payload:void 0,l=t;return t in a&&"string"==typeof a[t]?l=a[t]:s&&t in s&&"string"==typeof s[t]&&(l=s[t]),l in e?e[l]:e[t]}p.displayName="ChartTooltip",i.s,l.forwardRef((e,a)=>{let{className:t,hideIcon:l=!1,payload:r,verticalAlign:n="bottom",nameKey:i}=e,{config:c}=u();return(null==r?void 0:r.length)?(0,s.jsx)("div",{ref:a,className:(0,o.cn)("flex items-center justify-center gap-4","top"===n?"pb-3":"pt-3",t),children:r.map(e=>{let a="".concat(i||e.dataKey||"value"),t=f(c,e,a);return(0,s.jsxs)("div",{className:(0,o.cn)("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[(null==t?void 0:t.icon)&&!l?(0,s.jsx)(t.icon,{}):(0,s.jsx)("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:e.color}}),null==t?void 0:t.label]},e.value)})}):null}).displayName="ChartLegend"}},e=>{var a=a=>e(e.s=a);e.O(0,[2992,7138,5769,8884,6874,4044,7032,9827,8441,1684,7358],()=>a(59833)),_N_E=e.O()}]);