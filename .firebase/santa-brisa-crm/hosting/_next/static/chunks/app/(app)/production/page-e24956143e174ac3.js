(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9695],{4458:(e,a,s)=>{Promise.resolve().then(s.bind(s,61952))},14636:(e,a,s)=>{"use strict";s.d(a,{AM:()=>d,Wv:()=>i,hl:()=>c});var t=s(95155),r=s(12115),n=s(20547),l=s(59434);let d=n.bL,i=n.l9,c=r.forwardRef((e,a)=>{let{className:s,align:r="center",sideOffset:d=4,...i}=e;return(0,t.jsx)(n.ZL,{children:(0,t.jsx)(n.UC,{ref:a,align:r,sideOffset:d,className:(0,l.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...i})})});c.displayName=n.UC.displayName},19564:(e,a,s)=>{"use strict";s.d(a,{y:()=>r});var t=s(34477);let r=(0,t.createServerReference)("7f1e87e0573a6b4c8c91b413e52b517bc8f151c7f9",t.callServer,void 0,t.findSourceMapURL,"getInventoryItemsFS")},30356:(e,a,s)=>{"use strict";s.d(a,{C:()=>c,z:()=>i});var t=s(95155),r=s(12115),n=s(54059),l=s(70154),d=s(59434);let i=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(n.bL,{className:(0,d.cn)("grid gap-2",s),...r,ref:a})});i.displayName=n.bL.displayName;let c=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(n.q7,{ref:a,className:(0,d.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),...r,children:(0,t.jsx)(n.C1,{className:"flex items-center justify-center",children:(0,t.jsx)(l.A,{className:"h-2.5 w-2.5 fill-current text-current"})})})});c.displayName=n.q7.displayName},46102:(e,a,s)=>{"use strict";s.d(a,{Bc:()=>d,ZI:()=>o,k$:()=>c,m_:()=>i});var t=s(95155),r=s(12115),n=s(89613),l=s(59434);let d=n.Kq,i=n.bL,c=n.l9,o=r.forwardRef((e,a)=>{let{className:s,sideOffset:r=4,...d}=e;return(0,t.jsx)(n.UC,{ref:a,sideOffset:r,className:(0,l.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...d})});o.displayName=n.UC.displayName},47262:(e,a,s)=>{"use strict";s.d(a,{S:()=>i});var t=s(95155),r=s(12115),n=s(76981),l=s(10518),d=s(59434);let i=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(n.bL,{ref:a,className:(0,d.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...r,children:(0,t.jsx)(n.C1,{className:(0,d.cn)("flex items-center justify-center text-current"),children:(0,t.jsx)(l.A,{className:"h-4 w-4"})})})});i.displayName=n.bL.displayName},55365:(e,a,s)=>{"use strict";s.d(a,{Fc:()=>i,TN:()=>o,XL:()=>c});var t=s(95155),r=s(12115),n=s(74466),l=s(59434);let d=(0,n.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),i=r.forwardRef((e,a)=>{let{className:s,variant:r,...n}=e;return(0,t.jsx)("div",{ref:a,role:"alert",className:(0,l.cn)(d({variant:r}),s),...n})});i.displayName="Alert";let c=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("h5",{ref:a,className:(0,l.cn)("mb-1 font-medium leading-none tracking-tight",s),...r})});c.displayName="AlertTitle";let o=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,l.cn)("text-sm [&_p]:leading-relaxed",s),...r})});o.displayName="AlertDescription"},61952:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>eh});var t=s(95155),r=s(12115),n=s(30285),l=s(66695),d=s(85127),i=s(44838),c=s(87481),o=s(56013),u=s(34301),m=s(50172),x=s(31949),h=s(3561),p=s(13300),f=s(8376),j=s(53764),g=s(9255),v=s(18763),b=s(77223),y=s(90221),N=s(62177),C=s(68663),S=s(54165),w=s(17759),P=s(62523),R=s(30356),I=s(59409),k=s(66424),A=s(14636),q=s(85511),L=s(51920),M=s(61930),E=s(59434),F=s(44861),z=s(83343),O=s(73168),_=s(61055),D=s(34477);let B=(0,D.createServerReference)("403a9f9da8b44a6c6df5b1ef35690e6069394e64a1",D.callServer,void 0,D.findSourceMapURL,"getStockDetailsForItem");var T=s(55365),U=s(22346),H=s(16021);let J=C.Ik({type:C.k5(["blend","fill"],{required_error:"Debe seleccionar un tipo de orden."}),productSku:C.Yj().min(1,"Debe seleccionar un producto a fabricar."),productName:C.Yj(),qtyPlanned:C.au.number().min(.001,"La cantidad debe ser mayor que cero."),lineId:C.Yj().min(1,"Debe seleccionar una l\xednea de producci\xf3n."),tankId:C.Yj().optional(),startPlanned:C.p6({required_error:"La fecha de inicio es obligatoria."}),notesPlan:C.Yj().optional(),shortages:C.YO(C.bz()).optional(),maquilaCost:C.au.number().min(0,"El coste debe ser positivo.").optional(),maquilaTax:C.au.number().min(0,"Los impuestos deben ser positivos.").optional()}).superRefine((e,a)=>{"blend"!==e.type||e.tankId||a.addIssue({path:["tankId"],message:"Debe seleccionar un tanque para una orden de mezcla."})});function V(e){var a,s;let{productionRun:l,isOpen:i,onOpenChange:o,onSave:u,inventoryItems:h,bomLines:p,tanks:j}=e,[g,v]=r.useState(!1),[b,C]=r.useState(!1),[D,V]=r.useState([]),[Z,$]=r.useState(new Map),{toast:Y}=(0,c.dj)(),G=(0,N.mN)({resolver:(0,y.u)(J),defaultValues:{type:void 0,productSku:"",productName:"",qtyPlanned:1,lineId:"",tankId:void 0,startPlanned:new Date,notesPlan:"",maquilaCost:void 0,maquilaTax:void 0}}),X=G.watch("type"),K=G.watch("productSku"),W=G.watch("qtyPlanned"),Q=r.useMemo(()=>{if(!X)return[];let e=new Set(p.filter(e=>e.type===X).map(e=>e.productSku));return h.filter(a=>e.has(a.sku||""))},[X,p,h]),ee=r.useMemo(()=>j.filter(e=>"Libre"===e.status),[j]);r.useEffect(()=>{(async()=>{if(!K||!W||W<=0)return V([]);C(!0);try{let e=p.filter(e=>e.productSku===K);if(0===e.length)return void V([]);let a=e.map(async e=>{let a=e.quantity*W,{available:s,pending:t}=await B(e.componentId);return{componentId:e.componentId,componentName:e.componentName,componentSku:e.componentSku,uom:e.uom,required:a,available:s,pending:t,shortage:Math.max(0,a-s)}}),s=await Promise.all(a);V(s)}catch(e){console.error("Error calculating material needs:",e),Y({title:"Error de C\xe1lculo",description:"No se pudieron calcular las necesidades de material: ".concat(e.message),variant:"destructive"})}finally{C(!1)}})()},[K,W,p,Y]);let ea=r.useMemo(()=>D.some(e=>e.shortage>0),[D]);r.useEffect(()=>{i&&((0,H.I)().then(e=>{$(new Map(e.map(e=>[e.id,e.name])))}),l?G.reset({type:l.type,productSku:l.productSku,productName:l.productName,qtyPlanned:l.qtyPlanned,lineId:l.lineId,tankId:l.tankId,startPlanned:l.startPlanned&&(0,F.f)((0,z.H)(l.startPlanned))?(0,z.H)(l.startPlanned):new Date,notesPlan:l.notesPlan||"",shortages:l.shortages,maquilaCost:l.maquilaCost,maquilaTax:l.maquilaTax}):G.reset({type:void 0,productSku:"",productName:"",qtyPlanned:1,lineId:"",tankId:void 0,startPlanned:new Date,notesPlan:"",maquilaCost:void 0,maquilaTax:void 0}))},[l,i,G]);let es=async e=>{v(!0);let a=D.filter(e=>e.shortage>0).map(e=>({componentId:e.componentId,qtyShort:e.shortage}));await u({...e,shortages:a},null==l?void 0:l.id),v(!1)},et=!!l&&"Draft"!==l.status;return(0,t.jsx)(S.lG,{open:i,onOpenChange:o,children:(0,t.jsxs)(S.Cf,{className:"sm:max-w-4xl",children:[(0,t.jsxs)(S.c7,{children:[(0,t.jsx)(S.L3,{children:l?"Editar Orden":"Nueva Orden de Producci\xf3n"}),(0,t.jsx)(S.rr,{children:"Planifica la producci\xf3n de un nuevo lote de producto terminado o intermedio."})]}),(0,t.jsx)(w.lV,{...G,children:(0,t.jsxs)("form",{onSubmit:G.handleSubmit(es),className:"space-y-4 py-2",children:[(0,t.jsxs)("fieldset",{disabled:g||et,className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(w.zB,{control:G.control,name:"type",render:e=>{let{field:a}=e;return(0,t.jsxs)(w.eI,{className:"space-y-3",children:[(0,t.jsx)(w.lR,{children:"Paso 1: Tipo de Orden"}),(0,t.jsx)(w.MJ,{children:(0,t.jsxs)(R.z,{onValueChange:a.onChange,value:a.value,className:"flex gap-4",children:[(0,t.jsxs)(w.eI,{className:"flex items-center space-x-2 space-y-0",children:[(0,t.jsx)(w.MJ,{children:(0,t.jsx)(R.C,{value:"blend",id:"type-blend",disabled:et})}),(0,t.jsx)(w.lR,{htmlFor:"type-blend",className:"font-normal",children:"Mezcla (Granel)"})]}),(0,t.jsxs)(w.eI,{className:"flex items-center space-x-2 space-y-0",children:[(0,t.jsx)(w.MJ,{children:(0,t.jsx)(R.C,{value:"fill",id:"type-fill",disabled:et})}),(0,t.jsx)(w.lR,{htmlFor:"type-fill",className:"font-normal",children:"Embotellado"})]})]})}),(0,t.jsx)(w.C5,{})]})}}),(0,t.jsx)(w.zB,{control:G.control,name:"productSku",render:e=>{let{field:a}=e;return(0,t.jsxs)(w.eI,{children:[(0,t.jsx)(w.lR,{children:"Paso 2: Producto a Fabricar"}),(0,t.jsxs)(I.l6,{onValueChange:e=>{let s=Q.find(a=>a.sku===e);a.onChange(e),G.setValue("productName",(null==s?void 0:s.name)||"")},value:a.value,disabled:!X||et,children:[(0,t.jsx)(w.MJ,{children:(0,t.jsx)(I.bq,{children:(0,t.jsx)(I.yv,{placeholder:X?"Seleccionar producto...":"Selecciona un tipo de orden"})})}),(0,t.jsx)(I.gC,{children:(0,t.jsx)(k.F,{className:"h-48",children:Q.map(e=>(0,t.jsxs)(I.eb,{value:e.sku,children:[e.name," (",e.sku,")"]},e.id))})})]}),(0,t.jsx)(w.C5,{})]})}}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsx)(w.zB,{control:G.control,name:"qtyPlanned",render:e=>{let{field:a}=e;return(0,t.jsxs)(w.eI,{children:[(0,t.jsx)(w.lR,{children:"Cantidad Planificada"}),(0,t.jsx)(w.MJ,{children:(0,t.jsx)(P.p,{type:"number",step:"any",...a,disabled:et})}),(0,t.jsx)(w.C5,{})]})}}),(0,t.jsx)(w.zB,{control:G.control,name:"lineId",render:e=>{let{field:a}=e;return(0,t.jsxs)(w.eI,{children:[(0,t.jsx)(w.lR,{children:"L\xednea"}),(0,t.jsx)(w.MJ,{children:(0,t.jsx)(P.p,{placeholder:"Ej: 1",...a,disabled:et})}),(0,t.jsx)(w.C5,{})]})}})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsx)(w.zB,{control:G.control,name:"maquilaCost",render:e=>{var a;let{field:s}=e;return(0,t.jsxs)(w.eI,{children:[(0,t.jsx)(w.lR,{children:"Coste Maquila (€)"}),(0,t.jsx)(w.MJ,{children:(0,t.jsx)(P.p,{type:"number",step:"any",placeholder:"Ej: 250.00",...s,onChange:e=>s.onChange(""===e.target.value?void 0:parseFloat(e.target.value)),value:null!=(a=s.value)?a:"",disabled:et})}),(0,t.jsx)(w.C5,{})]})}}),(0,t.jsx)(w.zB,{control:G.control,name:"maquilaTax",render:e=>{var a;let{field:s}=e;return(0,t.jsxs)(w.eI,{children:[(0,t.jsx)(w.lR,{children:"Impuestos Maquila (€)"}),(0,t.jsx)(w.MJ,{children:(0,t.jsx)(P.p,{type:"number",step:"any",placeholder:"Ej: 52.50",...s,onChange:e=>s.onChange(""===e.target.value?void 0:parseFloat(e.target.value)),value:null!=(a=s.value)?a:"",disabled:et})}),(0,t.jsx)(w.C5,{})]})}})]}),"blend"===X&&(0,t.jsx)(w.zB,{control:G.control,name:"tankId",render:e=>{let{field:a}=e;return(0,t.jsxs)(w.eI,{children:[(0,t.jsx)(w.lR,{children:"Tanque de Mezcla"}),(0,t.jsxs)(I.l6,{onValueChange:a.onChange,value:a.value,children:[(0,t.jsx)(w.MJ,{children:(0,t.jsx)(I.bq,{disabled:et,children:(0,t.jsx)(I.yv,{placeholder:"Seleccionar tanque libre..."})})}),(0,t.jsx)(I.gC,{children:ee.map(e=>(0,t.jsxs)(I.eb,{value:e.id,children:[e.name," (",e.capacity,"L)"]},e.id))})]}),(0,t.jsx)(w.C5,{})]})}}),(0,t.jsx)(w.zB,{control:G.control,name:"startPlanned",render:e=>{let{field:a}=e;return(0,t.jsxs)(w.eI,{className:"flex flex-col",children:[(0,t.jsx)(w.lR,{children:"Fecha de Inicio Planificada"}),(0,t.jsxs)(A.AM,{children:[(0,t.jsx)(A.Wv,{asChild:!0,children:(0,t.jsx)(w.MJ,{children:(0,t.jsxs)(n.$,{disabled:et,variant:"outline",className:(0,E.cn)("justify-start text-left font-normal",!a.value&&"text-muted-foreground"),children:[(0,t.jsx)(L.A,{className:"mr-2 h-4 w-4"}),a.value?(0,O.GP)(a.value,"PPP",{locale:_.es}):(0,t.jsx)("span",{children:"Seleccione fecha"})]})})}),(0,t.jsx)(A.hl,{className:"w-auto p-0",children:(0,t.jsx)(q.V,{mode:"single",selected:a.value,onSelect:a.onChange,initialFocus:!0,locale:_.es})})]}),(0,t.jsx)(w.C5,{})]})}})]}),(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)("div",{className:"p-4 border rounded-lg h-full flex flex-col",children:[(0,t.jsx)("h4",{className:"text-md font-semibold mb-2",children:"Necesidades de Material"}),b&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground text-sm",children:[(0,t.jsx)(m.A,{className:"h-4 w-4 animate-spin"}),"Calculando stock..."]}),!b&&ea&&(0,t.jsxs)(T.Fc,{variant:"destructive",className:"bg-amber-50 border-amber-200 text-amber-800 mb-2",children:[(0,t.jsx)(x.A,{className:"h-4 w-4 !text-amber-500"}),(0,t.jsx)(T.XL,{className:"font-semibold text-amber-900",children:"Faltan Componentes"}),(0,t.jsx)(T.TN,{children:'Puedes guardar la orden como "Borrador", pero no podr\xe1s iniciarla hasta que se reciba y libere el material. Revisa el stock en el m\xf3dulo de Inventario.'})]}),!b&&!ea&&D.length>0&&(0,t.jsxs)(T.Fc,{variant:"default",className:"bg-green-50 border-green-200 text-green-800 mb-2",children:[(0,t.jsx)(f.A,{className:"h-4 w-4 !text-green-600"}),(0,t.jsx)(T.XL,{className:"font-semibold text-green-900",children:"Stock Disponible"}),(0,t.jsx)(T.TN,{children:"Hay stock suficiente para todos los componentes de esta orden de producci\xf3n."})]}),!b&&D.length>0&&(0,t.jsx)("div",{className:"flex-grow space-y-2",children:(0,t.jsx)(k.F,{className:"h-[200px] pr-3",children:(0,t.jsxs)(d.XI,{children:[(0,t.jsx)(d.A0,{children:(0,t.jsxs)(d.Hj,{children:[(0,t.jsx)(d.nd,{children:"Componente"}),(0,t.jsx)(d.nd,{className:"text-right",children:"Necesario"}),(0,t.jsx)(d.nd,{className:"text-right",children:"Disponible"})]})}),(0,t.jsx)(d.BF,{children:D.map(e=>(0,t.jsxs)(d.Hj,{className:(0,E.cn)(e.shortage>0&&"bg-amber-50 text-amber-900"),children:[(0,t.jsx)(d.nA,{className:"font-medium",children:e.componentName}),(0,t.jsxs)(d.nA,{className:"text-right",children:[(0,t.jsx)(M.A,{value:e.required})," ",e.uom]}),(0,t.jsx)(d.nA,{className:"text-right",children:(0,t.jsxs)("div",{className:"flex flex-col items-end",children:[(0,t.jsx)("span",{className:(0,E.cn)(e.shortage>0&&"font-bold text-destructive"),children:(0,t.jsx)(M.A,{value:e.available})}),e.pending>0&&(0,t.jsxs)("span",{className:"text-xs text-yellow-600",children:["(+",e.pending," pend.)"]})]})})]},e.componentId))})]})})}),!b&&0===D.length&&(0,t.jsx)("div",{className:"flex-grow flex items-center justify-center text-center text-muted-foreground text-sm",children:(0,t.jsx)("p",{children:"Selecciona un producto y una cantidad para ver las necesidades de material."})})]})})]}),et&&(null==l?void 0:l.status)==="Finalizada"&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(U.w,{className:"my-4"}),(0,t.jsx)("h3",{className:"text-md font-semibold text-primary",children:"Resultados de la Producci\xf3n"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm p-3 border rounded-md bg-muted/50",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-muted-foreground",children:"Lote de Salida"}),(0,t.jsx)("p",{className:"font-mono text-xs font-bold",children:l.outputBatchId||"N/A"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-muted-foreground",children:"Coste Unitario"}),(0,t.jsx)("p",{className:"font-bold",children:(0,t.jsx)(M.A,{value:null==(a=l.cost)?void 0:a.unit,options:{style:"currency",currency:"EUR",minimumFractionDigits:4}})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-muted-foreground",children:"Rendimiento"}),(0,t.jsx)("p",{className:"font-bold",children:(0,t.jsx)(M.A,{value:(l.yieldPct||0)/100,options:{style:"percent",minimumFractionDigits:2}})})]}),"fill"===l.type&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-muted-foreground",children:"Eficiencia"}),(0,t.jsxs)("p",{className:"font-bold",children:[(0,t.jsx)(M.A,{value:l.bottlesPerHour})," u/hora"]})]})]})]}),et&&l&&(null==(s=l.cleaningLogs)?void 0:s.length)>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(U.w,{className:"my-4"}),(0,t.jsx)("h3",{className:"text-md font-semibold text-primary",children:"Historial de Limpieza"}),(0,t.jsx)("div",{className:"p-3 border rounded-md bg-muted/50 text-sm space-y-2",children:l.cleaningLogs.map((e,a)=>(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Fecha:"})," ",(0,O.GP)((0,z.H)(e.date),"dd/MM/yy HH:mm",{locale:_.es})]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Operario:"})," ",Z.get(e.userId)||"ID: "+e.userId.substring(0,5)]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Tipo:"})," ","initial"===e.type?"Inicial":"Final"," (",e.material,")"]})]},a))})]}),(0,t.jsxs)(S.Es,{className:"pt-4",children:[(0,t.jsx)(S.HM,{asChild:!0,children:(0,t.jsx)(n.$,{type:"button",variant:"outline",children:"Cancelar"})}),!et&&(0,t.jsx)(n.$,{type:"submit",disabled:g||b,children:g?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Guardando..."]}):"Guardar Orden"})]})]})})]})})}var Z=s(90010);let $=(0,D.createServerReference)("7f805839aa5fc46f3919c675a57b6211b44eb0583f",D.callServer,void 0,D.findSourceMapURL,"getProductionRunsFS"),Y=(0,D.createServerReference)("7fa7f0381bc04b96e01946b319a905ba1c81818049",D.callServer,void 0,D.findSourceMapURL,"updateProductionRunFS"),G=(0,D.createServerReference)("7f75d1cbd6f333c07759265f81f1a3ea6a1c965a2d",D.callServer,void 0,D.findSourceMapURL,"addProductionRunFS"),X=(0,D.createServerReference)("7fbd5d490182252a18c0621d40875f6f6e0b545e2f",D.callServer,void 0,D.findSourceMapURL,"deleteProductionRunFS"),K=(0,D.createServerReference)("7f653b7c800895293b68c343e0a193bce6cfbbe812",D.callServer,void 0,D.findSourceMapURL,"startProductionRunFS"),W=(0,D.createServerReference)("7fed60611300fb3e7529dab2bee733e3cb0973b8e1",D.callServer,void 0,D.findSourceMapURL,"pauseProductionRunFS"),Q=(0,D.createServerReference)("7f8d980c2571242c42148b8c4ff5978e6f45339566",D.callServer,void 0,D.findSourceMapURL,"resumeProductionRunFS"),ee=(0,D.createServerReference)("7f8a1dd41063493fb82d9ba103d7b1d136069f8cde",D.callServer,void 0,D.findSourceMapURL,"closeProductionRunFS");var ea=s(96656),es=s(19564),et=s(84143),er=s(45349),en=s(51055),el=s(46102),ed=s(47262),ei=s(85057);function ec(e){let{isOpen:a,onOpenChange:s,onConfirm:n,run:l,consumptionPlan:i,isLoading:c}=e,[o,u]=r.useState(!1),[x,h]=r.useState([]);r.useEffect(()=>{a&&(u(!1),h(i||[]))},[a,i]);let p=(e,a)=>{let s=parseFloat(a);if(isNaN(s)){let a=[...x];a[e]={...a[e],quantityToConsume:0},h(a)}else{let a=[...x];a[e]={...a[e],quantityToConsume:s},h(a)}};return l?(0,t.jsx)(Z.Lt,{open:a,onOpenChange:s,children:(0,t.jsxs)(Z.EO,{className:"sm:max-w-3xl",children:[(0,t.jsxs)(Z.wd,{children:[(0,t.jsx)(Z.r7,{children:"Confirmar Inicio de Producci\xf3n"}),(0,t.jsxs)(Z.$v,{children:["Vas a iniciar la orden ",(0,t.jsx)("strong",{children:l.opCode})," para fabricar ",(0,t.jsx)("strong",{children:(0,t.jsx)(M.A,{value:l.qtyPlanned})})," unidades de ",(0,t.jsx)("strong",{children:l.productName}),".",(0,t.jsx)("br",{}),"Esto consumir\xe1 el stock de los lotes especificados. Revisa y ajusta las cantidades si es necesario. Esta acci\xf3n no se puede deshacer."]})]}),(0,t.jsxs)("div",{className:"py-4",children:[(0,t.jsx)("h4",{className:"font-semibold mb-2",children:"Plan de Consumo"}),x&&x.length>0?(0,t.jsx)(k.F,{className:"h-64 border rounded-md",children:(0,t.jsxs)(d.XI,{children:[(0,t.jsx)(d.A0,{children:(0,t.jsxs)(d.Hj,{children:[(0,t.jsx)(d.nd,{children:"Componente"}),(0,t.jsx)(d.nd,{children:"Lote a Usar"}),(0,t.jsx)(d.nd,{className:"text-right",children:"Planificado"}),(0,t.jsx)(d.nd,{className:"w-32 text-right",children:"Real a Usar"})]})}),(0,t.jsx)(d.BF,{children:null==i?void 0:i.map((e,a)=>{var s;return(0,t.jsxs)(d.Hj,{children:[(0,t.jsx)(d.nA,{children:e.componentName}),(0,t.jsx)(d.nA,{className:"font-mono text-xs",children:e.batchInternalCode}),(0,t.jsxs)(d.nA,{className:"text-right",children:[(0,t.jsx)(M.A,{value:e.quantityToConsume})," ",e.uom]}),(0,t.jsx)(d.nA,{className:"text-right",children:(0,t.jsx)(P.p,{type:"number",step:"any",value:(null==(s=x[a])?void 0:s.quantityToConsume)||"",onChange:e=>p(a,e.target.value),className:"h-8 text-right"})})]},e.componentId+e.batchInternalCode)})})]})}):(0,t.jsx)("div",{className:"h-48 flex items-center justify-center border rounded-md bg-muted",children:(0,t.jsx)("p",{className:"text-muted-foreground",children:"No se ha podido determinar el plan de consumo."})})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(ed.S,{id:"cleaning-check",checked:o,onCheckedChange:e=>u(!!e)}),(0,t.jsx)(ei.J,{htmlFor:"cleaning-check",className:"font-medium text-destructive",children:"Confirmo que la l\xednea/tanque de producci\xf3n est\xe1 limpia y preparada."})]}),(0,t.jsxs)(Z.ck,{children:[(0,t.jsx)(Z.Zr,{disabled:c,children:"Cancelar"}),(0,t.jsx)(Z.Rx,{onClick:()=>{o&&n(x)},disabled:!o||c,children:c?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Iniciando..."]}):"Confirmar e Iniciar"})]})]})}):null}let eo=(0,D.createServerReference)("78ca80d742a15feaa327ee07f17be01c42efca9d6f",D.callServer,void 0,D.findSourceMapURL,"planBatchConsumption");var eu=s(88539);let em=C.Ik({qtyActual:C.au.number().min(.001,"La cantidad real debe ser mayor que cero."),notesProd:C.Yj().optional(),cleaningConfirmed:C.zM().default(!1).optional(),cleaningMaterial:C.Yj().optional()}).superRefine((e,a)=>{e.cleaningConfirmed&&(!e.cleaningMaterial||e.cleaningMaterial.trim().length<3)&&a.addIssue({path:["cleaningMaterial"],message:"Debe especificar el material de limpieza si confirma la acci\xf3n."})});function ex(e){let{isOpen:a,onOpenChange:s,onConfirm:l,run:d,isLoading:i}=e,c=(0,N.mN)({resolver:(0,y.u)(em),defaultValues:{qtyActual:0,notesProd:"",cleaningConfirmed:!1,cleaningMaterial:""}});return(r.useEffect(()=>{a&&d&&c.reset({qtyActual:d.qtyPlanned,notesProd:d.notesProd||"",cleaningConfirmed:!1,cleaningMaterial:""})},[a,d,c]),d)?(0,t.jsx)(Z.Lt,{open:a,onOpenChange:s,children:(0,t.jsxs)(Z.EO,{children:[(0,t.jsxs)(Z.wd,{children:[(0,t.jsx)(Z.r7,{children:"Finalizar Orden de Producci\xf3n"}),(0,t.jsxs)(Z.$v,{children:["Confirma la cantidad real producida para la orden ",(0,t.jsx)("strong",{children:d.opCode}),". La cantidad planificada era de ",(0,t.jsx)("strong",{children:(0,t.jsx)(M.A,{value:d.qtyPlanned})}),"."]})]}),(0,t.jsx)(w.lV,{...c,children:(0,t.jsxs)("form",{onSubmit:c.handleSubmit(e=>{l(e)}),className:"space-y-4",children:[(0,t.jsx)(w.zB,{control:c.control,name:"qtyActual",render:e=>{let{field:a}=e;return(0,t.jsxs)(w.eI,{children:[(0,t.jsx)(w.lR,{children:"Cantidad Real Producida"}),(0,t.jsx)(w.MJ,{children:(0,t.jsx)(P.p,{type:"number",step:"any",...a})}),(0,t.jsx)(w.C5,{})]})}}),(0,t.jsx)(w.zB,{control:c.control,name:"notesProd",render:e=>{let{field:a}=e;return(0,t.jsxs)(w.eI,{children:[(0,t.jsx)(w.lR,{children:"Notas de Producci\xf3n (Opcional)"}),(0,t.jsx)(w.MJ,{children:(0,t.jsx)(eu.T,{placeholder:"A\xf1ade cualquier observaci\xf3n sobre la producci\xf3n...",...a})}),(0,t.jsx)(w.C5,{})]})}}),(0,t.jsxs)("div",{className:"space-y-4 pt-4 border-t",children:[(0,t.jsx)(w.zB,{control:c.control,name:"cleaningConfirmed",render:e=>{let{field:a}=e;return(0,t.jsxs)(w.eI,{className:"flex flex-row items-center space-x-3 space-y-0",children:[(0,t.jsx)(w.MJ,{children:(0,t.jsx)(ed.S,{checked:a.value,onCheckedChange:a.onChange})}),(0,t.jsx)("div",{className:"space-y-1 leading-none",children:(0,t.jsx)(w.lR,{children:"Confirmar y registrar limpieza final de l\xednea/tanque"})})]})}}),c.watch("cleaningConfirmed")&&(0,t.jsx)(w.zB,{control:c.control,name:"cleaningMaterial",render:e=>{let{field:a}=e;return(0,t.jsxs)(w.eI,{children:[(0,t.jsx)(w.lR,{children:"Material de Limpieza Utilizado"}),(0,t.jsx)(w.MJ,{children:(0,t.jsx)(P.p,{placeholder:"Ej: Sosa C\xe1ustica 2%, Agua Caliente",...a})}),(0,t.jsx)(w.C5,{})]})}})]}),(0,t.jsxs)(Z.ck,{className:"pt-4",children:[(0,t.jsx)(Z.Zr,{asChild:!0,children:(0,t.jsx)(n.$,{type:"button",variant:"outline",disabled:i,children:"Cancelar"})}),(0,t.jsx)(n.$,{type:"submit",disabled:i,children:i?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Finalizando..."]}):"Confirmar y Finalizar"})]})]})})]})}):null}function eh(){let{toast:e}=(0,c.dj)(),{teamMember:a,dataSignature:s,refreshDataSignature:y}=(0,en.A)(),[N,C]=r.useState([]),[S,w]=r.useState([]),[P,R]=r.useState([]),[I,k]=r.useState([]),[A,q]=r.useState(!0),[L,E]=r.useState(null),[F,_]=r.useState(!1),[D,B]=r.useState(null),[T,U]=r.useState(null),[H,J]=r.useState(null),[ed,ei]=r.useState(!1),[eu,em]=r.useState(null),[eh,ep]=r.useState(null),[ef,ej]=r.useState(null),[eg,ev]=r.useState(!1),eb=r.useCallback(async()=>{q(!0);try{let[e,a,s,t]=await Promise.all([$(),(0,es.y)(),(0,et.R)(),(0,er.Z)()]);C(e),w(a),R(s),k(t)}catch(a){console.error("Error fetching production data:",a),e({title:"Error al Cargar Datos",variant:"destructive"})}finally{q(!1)}},[e]);r.useEffect(()=>{eb()},[eb,s]);let ey=e=>{E(e),_(!0)},eN=async(a,s)=>{U("saving");try{s?(await Y(s,a),e({title:"Pr\xf3ximamente",description:"La edici\xf3n de \xf3rdenes estar\xe1 disponible en futuras fases."})):(await G(a),e({title:"Orden de Producci\xf3n Creada",description:"La nueva orden se ha guardado como borrador."})),y(),_(!1)}catch(a){e({title:"Error al Guardar",description:a.message,variant:"destructive"})}finally{U(null)}},eC=e=>{B(e)},eS=async()=>{if(D){U(D.id);try{await X(D.id),e({title:"Orden Eliminada",variant:"destructive"}),y()}catch(a){e({title:"Error al Eliminar",description:a.message,variant:"destructive"})}finally{U(null),B(null)}}},ew=async a=>{if(a.shortages.length>0)return void e({title:"Faltan Componentes",description:"No se puede iniciar la orden porque hay escasez de material.",variant:"destructive"});ep(a.id);try{let e=P.filter(e=>e.productSku===a.productSku);if(0===e.length)throw Error("No se encontr\xf3 receta (BOM) para el producto SKU: ".concat(a.productSku));let s=(await Promise.all(e.map(async e=>{let s=e.quantity*a.qtyPlanned;return(await eo(e.componentId,s,e.componentName)).map(a=>({componentId:e.componentId,componentName:e.componentName,componentSku:e.componentSku,uom:e.uom,quantityToConsume:a.quantity,batchId:a.batchId,batchInternalCode:a.batchData.internalBatchCode,unitCost:a.batchData.unitCost,supplierBatchCode:a.batchData.supplierBatchCode,batchData:a.batchData}))}))).flat();em(s),J(a),ei(!0)}catch(a){console.error("Error preparing consumption plan:",a),e({title:"Error al Preparar",description:"No se pudo preparar la orden: ".concat(a.message),variant:"destructive"})}finally{ep(null)}},eP=async s=>{if(H&&a){U(H.id),ei(!1);try{await K(H.id,s,a.id),e({title:"Producci\xf3n Iniciada",description:"La orden ha comenzado y se ha descontado el stock."}),y()}catch(a){e({title:"Error al Iniciar",description:a.message,variant:"destructive"})}finally{U(null),J(null),em(null)}}},eR=async a=>{U(a);try{await W(a),e({title:"Producci\xf3n Pausada",description:"La orden se ha puesto en pausa."}),y()}catch(a){e({title:"Error al Pausar",description:a.message,variant:"destructive"})}finally{U(null)}},eI=async a=>{U(a);try{await Q(a),e({title:"Producci\xf3n Reanudada",description:"La orden est\xe1 en curso de nuevo."}),y()}catch(a){e({title:"Error al Reanudar",description:a.message,variant:"destructive"})}finally{U(null)}},ek=e=>{ej(e),ev(!0)},eA=async s=>{if(ef&&a){U(ef.id),ev(!1);try{await ee(ef.id,s,a.id),e({title:"Producci\xf3n Finalizada",description:"La orden ha sido completada y el stock actualizado."}),y()}catch(a){e({title:"Error al Finalizar",description:a.message,variant:"destructive"})}finally{U(null),ej(null)}}};return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("header",{className:"flex items-center justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(o.A,{className:"h-8 w-8 text-primary"}),(0,t.jsx)("h1",{className:"text-3xl font-headline font-semibold",children:"\xd3rdenes de Producci\xf3n"})]}),(0,t.jsxs)(n.$,{onClick:()=>{E(null),_(!0)},disabled:A,children:[(0,t.jsx)(u.A,{className:"mr-2 h-4 w-4"})," Nueva Orden de Producci\xf3n"]})]}),(0,t.jsxs)(l.Zp,{children:[(0,t.jsxs)(l.aR,{children:[(0,t.jsx)(l.ZB,{children:"Listado de Producciones"}),(0,t.jsx)(l.BT,{children:"Planifica y sigue el estado de todas las \xf3rdenes de producci\xf3n, tanto de mezcla como de embotellado."})]}),(0,t.jsx)(l.Wu,{children:A?(0,t.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,t.jsx)(m.A,{className:"h-12 w-12 animate-spin text-primary"})}):(0,t.jsxs)(d.XI,{children:[(0,t.jsx)(d.A0,{children:(0,t.jsxs)(d.Hj,{children:[(0,t.jsx)(d.nd,{children:"OP Code"}),(0,t.jsx)(d.nd,{children:"Producto"}),(0,t.jsx)(d.nd,{children:"Tipo"}),(0,t.jsx)(d.nd,{children:"L\xednea/Tanque"}),(0,t.jsx)(d.nd,{children:"Fecha Planificada"}),(0,t.jsx)(d.nd,{className:"text-right",children:"Planificado / Real"}),(0,t.jsx)(d.nd,{children:"Estado"}),(0,t.jsx)(d.nd,{className:"text-right",children:"Acciones"})]})}),(0,t.jsx)(d.BF,{children:N.length>0?N.map(e=>{var a,s;return(0,t.jsxs)(d.Hj,{className:(null==(a=e.shortages)?void 0:a.length)>0?"bg-amber-50":"",children:[(0,t.jsx)(d.nA,{className:"font-mono text-xs",children:(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[e.opCode,(null==(s=e.shortages)?void 0:s.length)>0&&(0,t.jsx)(el.Bc,{children:(0,t.jsxs)(el.m_,{children:[(0,t.jsx)(el.k$,{children:(0,t.jsx)(x.A,{className:"h-4 w-4 text-amber-500"})}),(0,t.jsx)(el.ZI,{children:(0,t.jsxs)("p",{children:["Esta orden tiene ",e.shortages.length," componente(s) con stock insuficiente."]})})]})})]})}),(0,t.jsx)(d.nA,{className:"font-medium",children:e.productName}),(0,t.jsx)(d.nA,{children:e.type}),(0,t.jsxs)(d.nA,{children:[e.lineId,e.tankId?" / ".concat(e.tankId):""]}),(0,t.jsx)(d.nA,{children:(0,O.GP)((0,z.H)(e.startPlanned),"dd/MM/yyyy")}),(0,t.jsxs)(d.nA,{className:"text-right",children:[(0,t.jsx)(M.A,{value:e.qtyPlanned}),void 0!==e.qtyActual&&" / ".concat(e.qtyActual.toLocaleString("es-ES"))]}),(0,t.jsx)(d.nA,{children:(0,t.jsx)(ea.A,{type:"production",status:e.status})}),(0,t.jsx)(d.nA,{className:"text-right",children:T===e.id||eh===e.id?(0,t.jsx)(m.A,{className:"h-4 w-4 animate-spin ml-auto"}):(0,t.jsxs)(i.rI,{children:[(0,t.jsx)(i.ty,{asChild:!0,children:(0,t.jsx)(n.$,{variant:"ghost",size:"icon",children:(0,t.jsx)(h.A,{className:"h-4 w-4"})})}),(0,t.jsxs)(i.SQ,{children:["Draft"===e.status&&(0,t.jsxs)(i._2,{onSelect:()=>ew(e),disabled:e.shortages.length>0||!!eh,children:[(0,t.jsx)(p.A,{className:"mr-2 h-4 w-4"}),"Iniciar Producci\xf3n"]}),("En curso"===e.status||"Pausada"===e.status)&&(0,t.jsxs)(i._2,{onSelect:()=>ek(e),children:[(0,t.jsx)(f.A,{className:"mr-2 h-4 w-4"})," Finalizar Producci\xf3n"]}),"En curso"===e.status&&(0,t.jsxs)(i._2,{onSelect:()=>eR(e.id),children:[(0,t.jsx)(j.A,{className:"mr-2 h-4 w-4"})," Pausar Producci\xf3n"]}),"Pausada"===e.status&&(0,t.jsxs)(i._2,{onSelect:()=>eI(e.id),children:[(0,t.jsx)(g.A,{className:"mr-2 h-4 w-4"})," Reanudar Producci\xf3n"]}),(0,t.jsxs)(i._2,{onSelect:()=>ey(e),children:[(0,t.jsx)(v.A,{className:"mr-2 h-4 w-4"})," Editar / Ver Detalles"]}),(0,t.jsx)(i.mB,{}),(0,t.jsxs)(Z.Lt,{open:!!D&&D.id===e.id,onOpenChange:e=>!e&&B(null),children:[(0,t.jsx)(Z.tv,{asChild:!0,children:(0,t.jsxs)(i._2,{className:"text-destructive",onSelect:e=>e.preventDefault(),onClick:()=>eC(e),children:[(0,t.jsx)(b.A,{className:"mr-2 h-4 w-4"})," Eliminar"]})}),(0,t.jsxs)(Z.EO,{children:[(0,t.jsxs)(Z.wd,{children:[(0,t.jsx)(Z.r7,{children:"Confirmar Eliminaci\xf3n"}),(0,t.jsxs)(Z.$v,{children:["\xbfSeguro que quieres eliminar la orden ",e.opCode,"? Esta acci\xf3n no se puede deshacer."]})]}),(0,t.jsxs)(Z.ck,{children:[(0,t.jsx)(Z.Zr,{children:"Cancelar"}),(0,t.jsx)(Z.Rx,{onClick:eS,variant:"destructive",children:"Eliminar"})]})]})]})]})]})})]},e.id)}):(0,t.jsx)(d.Hj,{children:(0,t.jsx)(d.nA,{colSpan:8,className:"text-center h-24",children:'No hay \xf3rdenes de producci\xf3n. Haz clic en "Nueva Orden" para empezar.'})})})]})})]}),(0,t.jsx)(V,{productionRun:L,isOpen:F,onOpenChange:e=>{e||E(null),_(e)},onSave:eN,inventoryItems:S,bomLines:P,tanks:I}),(0,t.jsx)(ec,{isOpen:ed,onOpenChange:ei,onConfirm:eP,run:H,consumptionPlan:eu,isLoading:!!T}),(0,t.jsx)(ex,{isOpen:eg,onOpenChange:ev,onConfirm:eA,run:ef,isLoading:!!T})]})}},66424:(e,a,s)=>{"use strict";s.d(a,{F:()=>d});var t=s(95155),r=s(12115),n=s(47655),l=s(59434);let d=r.forwardRef((e,a)=>{let{className:s,children:r,...d}=e;return(0,t.jsxs)(n.bL,{ref:a,className:(0,l.cn)("relative overflow-hidden",s),...d,children:[(0,t.jsx)(n.LM,{className:"h-full w-full rounded-[inherit]",children:r}),(0,t.jsx)(i,{}),(0,t.jsx)(n.OK,{})]})});d.displayName=n.bL.displayName;let i=r.forwardRef((e,a)=>{let{className:s,orientation:r="vertical",...d}=e;return(0,t.jsx)(n.VM,{ref:a,orientation:r,className:(0,l.cn)("flex touch-none select-none transition-colors","vertical"===r&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===r&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",s),...d,children:(0,t.jsx)(n.lr,{className:"relative flex-1 rounded-full bg-border"})})});i.displayName=n.VM.displayName},84143:(e,a,s)=>{"use strict";s.d(a,{R:()=>r});var t=s(34477);let r=(0,t.createServerReference)("7f23023acca05a0994ead461db05815a90f02745c1",t.callServer,void 0,t.findSourceMapURL,"getBomLinesFS")},85511:(e,a,s)=>{"use strict";s.d(a,{V:()=>c});var t=s(95155);s(12115);var r=s(965),n=s(73158),l=s(39166),d=s(59434),i=s(30285);function c(e){let{className:a,classNames:s,showOutsideDays:c=!0,...o}=e;return(0,t.jsx)(l.hv,{showOutsideDays:c,className:(0,d.cn)("p-3",a),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,d.cn)((0,i.r)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,d.cn)((0,i.r)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent/40 text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...s},components:{IconLeft:e=>{let{className:a,...s}=e;return(0,t.jsx)(r.A,{className:(0,d.cn)("h-4 w-4",a),...s})},IconRight:e=>{let{className:a,...s}=e;return(0,t.jsx)(n.A,{className:(0,d.cn)("h-4 w-4",a),...s})}},...o})}c.displayName="Calendar"},88539:(e,a,s)=>{"use strict";s.d(a,{T:()=>l});var t=s(95155),r=s(12115),n=s(59434);let l=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:a,...r})});l.displayName="Textarea"},90010:(e,a,s)=>{"use strict";s.d(a,{$v:()=>f,EO:()=>m,Lt:()=>i,Rx:()=>j,Zr:()=>g,ck:()=>h,r7:()=>p,tv:()=>c,wd:()=>x});var t=s(95155),r=s(12115),n=s(17649),l=s(59434),d=s(30285);let i=n.bL,c=n.l9,o=n.ZL,u=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(n.hJ,{className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r,ref:a})});u.displayName=n.hJ.displayName;let m=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsxs)(o,{children:[(0,t.jsx)(u,{}),(0,t.jsx)(n.UC,{ref:a,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...r})]})});m.displayName=n.UC.displayName;let x=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-2 text-center sm:text-left",a),...s})};x.displayName="AlertDialogHeader";let h=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...s})};h.displayName="AlertDialogFooter";let p=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(n.hE,{ref:a,className:(0,l.cn)("text-lg font-semibold",s),...r})});p.displayName=n.hE.displayName;let f=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(n.VY,{ref:a,className:(0,l.cn)("text-sm text-muted-foreground",s),...r})});f.displayName=n.VY.displayName;let j=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(n.rc,{ref:a,className:(0,l.cn)((0,d.r)(),s),...r})});j.displayName=n.rc.displayName;let g=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(n.ZD,{ref:a,className:(0,l.cn)((0,d.r)({variant:"outline"}),"mt-2 sm:mt-0",s),...r})});g.displayName=n.ZD.displayName}},e=>{var a=a=>e(e.s=a);e.O(0,[2992,7138,5769,8884,1915,1490,587,7328,8965,1859,6060,6764,8782,6723,7655,5275,5008,6315,9887,8441,1684,7358],()=>a(4458)),_N_E=e.O()}]);