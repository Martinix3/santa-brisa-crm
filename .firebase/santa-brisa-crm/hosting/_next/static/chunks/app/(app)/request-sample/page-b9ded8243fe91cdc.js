(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[914],{5845:(e,a,r)=>{"use strict";r.d(a,{i:()=>l});var s,t=r(12115),i=r(52712),n=(s||(s=r.t(t,2)))[" useInsertionEffect ".trim().toString()]||i.N;function l({prop:e,defaultProp:a,onChange:r=()=>{},caller:s}){let[i,l,o]=function({defaultProp:e,onChange:a}){let[r,s]=t.useState(e),i=t.useRef(r),l=t.useRef(a);return n(()=>{l.current=a},[a]),t.useEffect(()=>{i.current!==r&&(l.current?.(r),i.current=r)},[r,i]),[r,s,l]}({defaultProp:a,onChange:r}),d=void 0!==e,c=d?e:i;{let a=t.useRef(void 0!==e);t.useEffect(()=>{let e=a.current;if(e!==d){let a=d?"controlled":"uncontrolled";console.warn(`${s} is changing from ${e?"controlled":"uncontrolled"} to ${a}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}a.current=d},[d,s])}return[c,t.useCallback(a=>{if(d){let r="function"==typeof a?a(e):a;r!==e&&o.current?.(r)}else l(a)},[d,e,l,o])]}Symbol("RADIX:SYNC_STATE")},6101:(e,a,r)=>{"use strict";r.d(a,{s:()=>n,t:()=>i});var s=r(12115);function t(e,a){if("function"==typeof e)return e(a);null!=e&&(e.current=a)}function i(...e){return a=>{let r=!1,s=e.map(e=>{let s=t(e,a);return r||"function"!=typeof s||(r=!0),s});if(r)return()=>{for(let a=0;a<s.length;a++){let r=s[a];"function"==typeof r?r():t(e[a],null)}}}}function n(...e){return s.useCallback(i(...e),e)}},19989:(e,a,r)=>{Promise.resolve().then(r.bind(r,57356))},22346:(e,a,r)=>{"use strict";r.d(a,{w:()=>l});var s=r(95155),t=r(12115),i=r(87489),n=r(59434);let l=t.forwardRef((e,a)=>{let{className:r,orientation:t="horizontal",decorative:l=!0,...o}=e;return(0,s.jsx)(i.b,{ref:a,decorative:l,orientation:t,className:(0,n.cn)("shrink-0 bg-border","horizontal"===t?"h-[1px] w-full":"h-full w-[1px]",r),...o})});l.displayName=i.b.displayName},34301:(e,a,r)=>{"use strict";r.d(a,{A:()=>s});let s=(0,r(40157).A)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},46081:(e,a,r)=>{"use strict";r.d(a,{A:()=>n,q:()=>i});var s=r(12115),t=r(95155);function i(e,a){let r=s.createContext(a),i=e=>{let{children:a,...i}=e,n=s.useMemo(()=>i,Object.values(i));return(0,t.jsx)(r.Provider,{value:n,children:a})};return i.displayName=e+"Provider",[i,function(t){let i=s.useContext(r);if(i)return i;if(void 0!==a)return a;throw Error(`\`${t}\` must be used within \`${e}\``)}]}function n(e,a=[]){let r=[],i=()=>{let a=r.map(e=>s.createContext(e));return function(r){let t=r?.[e]||a;return s.useMemo(()=>({[`__scope${e}`]:{...r,[e]:t}}),[r,t])}};return i.scopeName=e,[function(a,i){let n=s.createContext(i),l=r.length;r=[...r,i];let o=a=>{let{scope:r,children:i,...o}=a,d=r?.[e]?.[l]||n,c=s.useMemo(()=>o,Object.values(o));return(0,t.jsx)(d.Provider,{value:c,children:i})};return o.displayName=a+"Provider",[o,function(r,t){let o=t?.[e]?.[l]||n,d=s.useContext(o);if(d)return d;if(void 0!==i)return i;throw Error(`\`${r}\` must be used within \`${a}\``)}]},function(...e){let a=e[0];if(1===e.length)return a;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let t=r.reduce((a,{useScope:r,scopeName:s})=>{let t=r(e)[`__scope${s}`];return{...a,...t}},{});return s.useMemo(()=>({[`__scope${a.scopeName}`]:t}),[t])}};return r.scopeName=a.scopeName,r}(i,...a)]}},50286:(e,a,r)=>{"use strict";r.d(a,{A:()=>s});let s=(0,r(40157).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},52712:(e,a,r)=>{"use strict";r.d(a,{N:()=>t});var s=r(12115),t=globalThis?.document?s.useLayoutEffect:()=>{}},57356:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>F});var s=r(95155),t=r(12115),i=r(1978),n=r(60760),l=r(17759),o=r(66695),d=r(50172),c=r(87687),u=r(62177),p=r(90221),m=r(87481),h=r(35695),f=r(51055),x=r(65331),j=r(16021),g=r(34477);let v=(0,g.createServerReference)("7feb007aba2bc4f61cd8e04be14513ad081eba1557",g.callServer,void 0,g.findSourceMapURL,"addSampleRequestFS");var b=r(68663),y=r(93473);let N=b.Ik({isNewClient:b.zM().default(!1),requesterId:b.Yj().optional(),accountId:b.Yj().optional(),clientName:b.Yj().min(2,"El nombre de la cuenta debe tener al menos 2 caracteres."),purpose:b.k5(y.g0,{required_error:"Debe seleccionar un prop\xf3sito."}),numberOfSamples:b.au.number().min(1,"Debe solicitar al menos 1 muestra.").max(50,"No se pueden solicitar m\xe1s de 50 muestras a la vez."),justificationNotes:b.Yj().min(10,"La justificaci\xf3n debe tener al menos 10 caracteres."),shippingAddress_street:b.Yj().optional(),shippingAddress_number:b.Yj().optional(),shippingAddress_city:b.Yj().optional(),shippingAddress_province:b.Yj().optional(),shippingAddress_postalCode:b.Yj().optional(),shippingAddress_country:b.Yj().optional().default("Espa\xf1a")}).superRefine((e,a)=>{if(e.isNewClient){var r,s,t,i;(null==(r=e.shippingAddress_street)?void 0:r.trim())||a.addIssue({path:["shippingAddress_street"],message:"La calle es obligatoria para nuevos clientes."}),(null==(s=e.shippingAddress_city)?void 0:s.trim())||a.addIssue({path:["shippingAddress_city"],message:"La ciudad es obligatoria para nuevos clientes."}),(null==(t=e.shippingAddress_province)?void 0:t.trim())||a.addIssue({path:["shippingAddress_province"],message:"La provincia es obligatoria para nuevos clientes."}),(null==(i=e.shippingAddress_postalCode)?void 0:i.trim())||a.addIssue({path:["shippingAddress_postalCode"],message:"El c\xf3digo postal es obligatorio para nuevos clientes."})}else e.accountId||a.addIssue({path:["accountId"],message:"Debe seleccionar una cuenta existente."})});var C=r(62523),A=r(30285),w=r(75074),S=r(86950),_=r(34301);let R=e=>{let{searchTerm:a,setSearchTerm:r,filteredAccounts:t,handleClientSelect:i,debouncedSearchTerm:n}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(o.aR,{children:[(0,s.jsx)(o.ZB,{children:"Paso 1: \xbfPara qu\xe9 cliente son las muestras?"}),(0,s.jsx)(o.BT,{children:"Busca un cliente existente o introduce el nombre de uno nuevo para continuar."})]}),(0,s.jsxs)(o.Wu,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(w.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),(0,s.jsx)(C.p,{placeholder:"Buscar por nombre o CIF...",value:a,onChange:e=>r(e.target.value),className:"pl-10"})]}),t.length>0&&(0,s.jsx)("div",{className:"space-y-2 max-h-60 overflow-y-auto p-1",children:t.map(e=>(0,s.jsxs)(A.$,{type:"button",variant:"outline",className:"w-full justify-start",onClick:()=>i(e),children:[" ",(0,s.jsx)(S.A,{className:"mr-2 h-4 w-4 text-muted-foreground"})," ",e.nombre," "]},e.id))}),n&&0===t.length&&(0,s.jsxs)("div",{className:"text-center p-4 border-dashed border-2 rounded-md",children:[(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:['No se encontr\xf3 al cliente "',n,'".']}),(0,s.jsxs)(A.$,{type:"button",className:"mt-2",onClick:()=>i({id:"new",nombre:n}),children:[" ",(0,s.jsx)(_.A,{className:"mr-2 h-4 w-4"})," Continuar como nuevo cliente "]})]})]})]})};var E=r(59409),I=r(22346),M=r(88539),P=r(50286),k=r(87374),B=r(12543),L=r(19968);let O=e=>{let{form:a,handleBack:r,handleNextStep:t,userRole:i,requestersList:n}=e,d=(0,u.FH)({control:a.control,name:"isNewClient"});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(o.aR,{children:[(0,s.jsx)(o.ZB,{children:"Paso 2: Detalles de la Solicitud"}),(0,s.jsx)(o.BT,{children:"Completa la informaci\xf3n sobre el prop\xf3sito y la cantidad de muestras."})]}),(0,s.jsxs)(o.Wu,{className:"space-y-6",children:["Admin"===i&&(0,s.jsx)(l.zB,{control:a.control,name:"requesterId",render:e=>{let{field:a}=e;return(0,s.jsxs)(l.eI,{children:[(0,s.jsxs)(l.lR,{className:"flex items-center",children:[(0,s.jsx)(P.A,{className:"mr-2 h-4 w-4 text-primary"})," Solicitar en nombre de (Opcional)"]}),(0,s.jsxs)(E.l6,{onValueChange:a.onChange,value:a.value||"",children:[(0,s.jsx)(l.MJ,{children:(0,s.jsx)(E.bq,{children:(0,s.jsx)(E.yv,{placeholder:"Yo mismo (Admin)"})})}),(0,s.jsx)(E.gC,{children:n.map(e=>(0,s.jsxs)(E.eb,{value:e.id,children:[e.name," (",e.role,")"]},e.id))})]}),(0,s.jsx)(l.Rr,{children:"Si se deja en blanco, la solicitud se registrar\xe1 a tu nombre."}),(0,s.jsx)(l.C5,{})]})}}),(0,s.jsx)(l.zB,{control:a.control,name:"purpose",render:e=>{let{field:a}=e;return(0,s.jsxs)(l.eI,{children:[(0,s.jsx)(l.lR,{children:"Prop\xf3sito de la Muestra"}),(0,s.jsxs)(E.l6,{onValueChange:a.onChange,value:a.value,children:[(0,s.jsx)(l.MJ,{children:(0,s.jsx)(E.bq,{children:(0,s.jsx)(E.yv,{placeholder:"Seleccionar un prop\xf3sito..."})})}),(0,s.jsx)(E.gC,{children:y.g0.map(e=>(0,s.jsx)(E.eb,{value:e,children:e},e))})]}),(0,s.jsx)(l.C5,{})]})}}),(0,s.jsx)(l.zB,{control:a.control,name:"numberOfSamples",render:e=>{var a;let{field:r}=e;return(0,s.jsxs)(l.eI,{children:[(0,s.jsxs)(l.lR,{className:"flex items-center",children:[(0,s.jsx)(k.A,{className:"mr-2 h-4 w-4"}),"Cantidad de Muestras"]}),(0,s.jsx)(l.MJ,{children:(0,s.jsx)(C.p,{type:"number",...r,value:null!=(a=r.value)?a:"",onChange:e=>r.onChange(""===e.target.value?void 0:parseInt(e.target.value,10))})}),(0,s.jsx)(l.C5,{})]})}}),(0,s.jsx)(l.zB,{control:a.control,name:"justificationNotes",render:e=>{let{field:a}=e;return(0,s.jsxs)(l.eI,{children:[(0,s.jsx)(l.lR,{children:"Justificaci\xf3n / Notas"}),(0,s.jsx)(l.MJ,{children:(0,s.jsx)(M.T,{placeholder:"Explica brevemente por qu\xe9 se necesita la muestra, el potencial del cliente, etc.",...a})}),(0,s.jsx)(l.Rr,{children:"Esta informaci\xf3n ayudar\xe1 al administrador a tomar una decisi\xf3n."}),(0,s.jsx)(l.C5,{})]})}}),d&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(I.w,{className:"my-4"}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("h3",{className:"text-md font-medium",children:"Direcci\xf3n de Env\xedo*"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"La direcci\xf3n es obligatoria para el env\xedo de muestras a nuevos clientes."})]}),(0,s.jsx)(l.zB,{control:a.control,name:"shippingAddress_street",render:e=>{var a;let{field:r}=e;return(0,s.jsxs)(l.eI,{children:[(0,s.jsx)(l.lR,{children:"Calle *"}),(0,s.jsx)(l.MJ,{children:(0,s.jsx)(C.p,{placeholder:"Ej: Calle Principal",...r,value:null!=(a=r.value)?a:""})}),(0,s.jsx)(l.C5,{})]})}}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,s.jsx)(l.zB,{control:a.control,name:"shippingAddress_number",render:e=>{var a;let{field:r}=e;return(0,s.jsxs)(l.eI,{children:[(0,s.jsx)(l.lR,{children:"N\xfamero"}),(0,s.jsx)(l.MJ,{children:(0,s.jsx)(C.p,{placeholder:"Ej: 123",...r,value:null!=(a=r.value)?a:""})}),(0,s.jsx)(l.C5,{})]})}}),(0,s.jsx)(l.zB,{control:a.control,name:"shippingAddress_postalCode",render:e=>{var a;let{field:r}=e;return(0,s.jsxs)(l.eI,{children:[(0,s.jsx)(l.lR,{children:"C\xf3d. Postal *"}),(0,s.jsx)(l.MJ,{children:(0,s.jsx)(C.p,{placeholder:"Ej: 28001",...r,value:null!=(a=r.value)?a:""})}),(0,s.jsx)(l.C5,{})]})}}),(0,s.jsx)(l.zB,{control:a.control,name:"shippingAddress_city",render:e=>{var a;let{field:r}=e;return(0,s.jsxs)(l.eI,{children:[(0,s.jsx)(l.lR,{children:"Ciudad *"}),(0,s.jsx)(l.MJ,{children:(0,s.jsx)(C.p,{placeholder:"Ej: Madrid",...r,value:null!=(a=r.value)?a:""})}),(0,s.jsx)(l.C5,{})]})}}),(0,s.jsx)(l.zB,{control:a.control,name:"shippingAddress_province",render:e=>{var a;let{field:r}=e;return(0,s.jsxs)(l.eI,{children:[(0,s.jsx)(l.lR,{children:"Provincia *"}),(0,s.jsxs)(E.l6,{onValueChange:r.onChange,value:null!=(a=r.value)?a:"",children:[(0,s.jsx)(l.MJ,{children:(0,s.jsx)(E.bq,{children:(0,s.jsx)(E.yv,{placeholder:"Seleccionar provincia"})})}),(0,s.jsx)(E.gC,{children:y.tF.map(e=>(0,s.jsx)(E.eb,{value:e,children:e},e))})]}),(0,s.jsx)(l.C5,{})]})}})]})]})]}),(0,s.jsxs)(o.wL,{className:"flex justify-between",children:[(0,s.jsxs)(A.$,{type:"button",variant:"ghost",onClick:r,children:[(0,s.jsx)(B.A,{className:"mr-2 h-4 w-4"})," Volver"]}),(0,s.jsxs)(A.$,{type:"button",onClick:t,children:["Continuar ",(0,s.jsx)(L.A,{className:"ml-2 h-4 w-4"})]})]})]})};var T=r(73672);let z=e=>{let{form:a,client:r,handleBack:t,isSubmitting:i}=e,n=a.watch();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(o.aR,{children:[(0,s.jsx)(o.ZB,{children:"Paso 3: Verifica y Confirma la Solicitud"}),(0,s.jsx)(o.BT,{children:"Comprueba que todos los datos son correctos. Puedes volver atr\xe1s para editar si es necesario."})]}),(0,s.jsx)(o.Wu,{className:"space-y-6",children:(0,s.jsxs)(o.Zp,{children:[(0,s.jsx)(o.aR,{children:(0,s.jsx)(o.ZB,{className:"text-lg",children:"Resumen de la Solicitud"})}),(0,s.jsxs)(o.Wu,{className:"space-y-2 text-sm",children:[(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Cliente:"})," ",null==r?void 0:r.nombre," ",(null==r?void 0:r.id)==="new"&&(0,s.jsx)("span",{className:"text-primary font-bold",children:"(Nuevo)"})]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Prop\xf3sito:"})," ",(0,s.jsx)("span",{className:"font-semibold",children:n.purpose||"N/D"})]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Cantidad de Muestras:"})," ",(0,s.jsx)("span",{className:"font-semibold",children:n.numberOfSamples||"N/D"})]}),n.isNewClient&&(n.shippingAddress_street||n.shippingAddress_city)&&(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Direcci\xf3n de Env\xedo:"}),(0,s.jsxs)("p",{className:"pl-2",children:[n.shippingAddress_street,", ",n.shippingAddress_number||"s/n"]}),(0,s.jsxs)("p",{className:"pl-2",children:[n.shippingAddress_postalCode,", ",n.shippingAddress_city," (",n.shippingAddress_province,")"]})]}),n.justificationNotes&&(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Justificaci\xf3n:"})," ",n.justificationNotes]})]})]})}),(0,s.jsxs)(o.wL,{className:"flex justify-between",children:[(0,s.jsxs)(A.$,{type:"button",variant:"ghost",onClick:t,disabled:i,children:[(0,s.jsx)(B.A,{className:"mr-2 h-4 w-4"})," Volver"]}),(0,s.jsx)(A.$,{type:"submit",disabled:i,children:i?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.A,{className:"mr-2 h-4 w-4 animate-spin"})," Enviando..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(T.A,{className:"mr-2 h-4 w-4"})," Confirmar y Enviar Solicitud"]})})]})]})};function F(){let e=function(){let{toast:e}=(0,m.dj)(),a=(0,h.useRouter)(),{teamMember:r,userRole:s,refreshDataSignature:i}=(0,f.A)(),[n,l]=t.useState("client"),[o,d]=t.useState(null),[c,g]=t.useState(!0),[b,y]=t.useState(!1),[C,A]=t.useState([]),[w,S]=t.useState([]),[_,R]=t.useState(""),[E,I]=t.useState("");t.useEffect(()=>{let e=setTimeout(()=>{I(_)},300);return()=>{clearTimeout(e)}},[_]);let M=t.useMemo(()=>E?C.filter(e=>e.nombre.toLowerCase().includes(E.toLowerCase())||e.cif&&e.cif.toLowerCase().includes(E.toLowerCase())):[],[E,C]),P=(0,u.mN)({resolver:(0,p.u)(N),mode:"onBlur",defaultValues:{isNewClient:!1,clientName:"",accountId:void 0,requesterId:void 0,purpose:void 0,numberOfSamples:1,justificationNotes:"",shippingAddress_street:"",shippingAddress_number:"",shippingAddress_city:"",shippingAddress_province:"",shippingAddress_postalCode:"",shippingAddress_country:"Espa\xf1a"}});t.useEffect(()=>{!async function(){g(!0);try{let e=[(0,x.U)()];"Admin"===s&&e.push((0,j.I)(["SalesRep","Clavadista","Admin"]));let[a,r]=await Promise.all(e);A(a),r&&S(r)}catch(a){e({title:"Error",description:"No se pudieron cargar los datos necesarios.",variant:"destructive"})}finally{g(!1)}}()},[e,s]);let k=async()=>{let e=[];"details"===n&&(e=["purpose","numberOfSamples","justificationNotes"],P.getValues("isNewClient")&&e.push("shippingAddress_street","shippingAddress_city","shippingAddress_province","shippingAddress_postalCode")),(!(e.length>0)||await P.trigger(e))&&"details"===n&&l("verify")};return{form:P,step:n,setStep:l,client:o,handleClientSelect:e=>{d(e);let a="new"===e.id;P.setValue("isNewClient",a),P.setValue("clientName",e.nombre),a?P.setValue("accountId",void 0):P.setValue("accountId",e.id),l("details")},searchTerm:_,setSearchTerm:R,filteredAccounts:M,debouncedSearchTerm:E,handleBack:()=>{"details"===n&&l("client"),"verify"===n&&l("details")},handleNextStep:k,onSubmit:async t=>{if(!r)return void e({title:"Error",description:"No se pudo identificar al usuario.",variant:"destructive"});y(!0);let n=r.id,l=r.name;if("Admin"===s&&t.requesterId&&""!==t.requesterId){let e=w.find(e=>e.id===t.requesterId);e&&(n=e.id,l=e.name)}let o={requesterId:n,requesterName:l,clientStatus:t.isNewClient?"new":"existing",accountId:t.accountId,clientName:t.clientName,purpose:t.purpose,numberOfSamples:t.numberOfSamples,justificationNotes:t.justificationNotes,shippingAddress_street:t.shippingAddress_street,shippingAddress_number:t.shippingAddress_number,shippingAddress_city:t.shippingAddress_city,shippingAddress_province:t.shippingAddress_province,shippingAddress_postalCode:t.shippingAddress_postalCode,shippingAddress_country:t.shippingAddress_country};try{await v(o),e({title:"\xa1Solicitud Enviada!",description:"Tu solicitud de muestras ha sido enviada para su revisi\xf3n."}),i(),a.push("/dashboard")}catch(a){e({title:"Error al Enviar",description:"No se pudo guardar la solicitud: ".concat(a.message),variant:"destructive"})}finally{y(!1)}},isLoading:c,isSubmitting:b,requestersList:w,userRole:s}}(),{userRole:a}=(0,f.A)(),{form:r,step:g,isSubmitting:b,isLoading:y}=e;return a&&("Admin"===a||"SalesRep"===a||"Clavadista"===a)?y?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center h-full p-8",children:[(0,s.jsx)(d.A,{className:"h-12 w-12 animate-spin text-primary"}),(0,s.jsx)("p",{className:"mt-4 text-muted-foreground",children:"Cargando datos para el formulario..."})]}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("header",{className:"flex items-center space-x-2",children:[(0,s.jsx)(c.A,{className:"h-8 w-8 text-primary"}),(0,s.jsx)("h1",{className:"text-3xl font-headline font-semibold",children:"Solicitar Muestras de Producto"})]}),(0,s.jsx)(l.lV,{...r,children:(0,s.jsx)("form",{onSubmit:r.handleSubmit(e.onSubmit),children:(0,s.jsx)(o.Zp,{className:"max-w-3xl mx-auto shadow-lg mt-6 overflow-hidden",children:(0,s.jsx)(n.N,{mode:"wait",children:(()=>{switch(g){case"client":return(0,s.jsx)(i.P.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},exit:{opacity:0,x:50},children:(0,s.jsx)(R,{...e})},"client");case"details":return(0,s.jsx)(i.P.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},exit:{opacity:0,x:50},children:(0,s.jsx)(O,{...e})},"details");case"verify":return(0,s.jsx)(i.P.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},exit:{opacity:0,x:50},children:(0,s.jsx)(z,{...e})},"verify")}})()})})})})]}):(0,s.jsxs)(o.Zp,{children:[(0,s.jsx)(o.aR,{children:(0,s.jsx)(o.ZB,{children:"Acceso Denegado"})}),(0,s.jsx)(o.Wu,{children:(0,s.jsx)("p",{children:"No tienes permiso para ver esta secci\xf3n."})})]})}},59409:(e,a,r)=>{"use strict";r.d(a,{bq:()=>m,eb:()=>j,gC:()=>x,l6:()=>c,s3:()=>u,yv:()=>p});var s=r(95155),t=r(12115),i=r(31992),n=r(79556),l=r(77381),o=r(10518),d=r(59434);let c=i.bL,u=i.YJ,p=i.WT,m=t.forwardRef((e,a)=>{let{className:r,children:t,...l}=e;return(0,s.jsxs)(i.l9,{ref:a,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...l,children:[t,(0,s.jsx)(i.In,{asChild:!0,children:(0,s.jsx)(n.A,{className:"h-4 w-4 opacity-50"})})]})});m.displayName=i.l9.displayName;let h=t.forwardRef((e,a)=>{let{className:r,...t}=e;return(0,s.jsx)(i.PP,{ref:a,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",r),...t,children:(0,s.jsx)(l.A,{className:"h-4 w-4"})})});h.displayName=i.PP.displayName;let f=t.forwardRef((e,a)=>{let{className:r,...t}=e;return(0,s.jsx)(i.wn,{ref:a,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",r),...t,children:(0,s.jsx)(n.A,{className:"h-4 w-4"})})});f.displayName=i.wn.displayName;let x=t.forwardRef((e,a)=>{let{className:r,children:t,position:n="popper",...l}=e;return(0,s.jsx)(i.ZL,{children:(0,s.jsxs)(i.UC,{ref:a,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:n,...l,children:[(0,s.jsx)(h,{}),(0,s.jsx)(i.LM,{className:(0,d.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),(0,s.jsx)(f,{})]})})});x.displayName=i.UC.displayName,t.forwardRef((e,a)=>{let{className:r,...t}=e;return(0,s.jsx)(i.JU,{ref:a,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...t})}).displayName=i.JU.displayName;let j=t.forwardRef((e,a)=>{let{className:r,children:t,...n}=e;return(0,s.jsxs)(i.q7,{ref:a,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...n,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(i.VF,{children:(0,s.jsx)(o.A,{className:"h-4 w-4"})})}),(0,s.jsx)(i.p4,{children:t})]})});j.displayName=i.q7.displayName,t.forwardRef((e,a)=>{let{className:r,...t}=e;return(0,s.jsx)(i.wv,{ref:a,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",r),...t})}).displayName=i.wv.displayName},62523:(e,a,r)=>{"use strict";r.d(a,{p:()=>n});var s=r(95155),t=r(12115),i=r(59434);let n=t.forwardRef((e,a)=>{let{className:r,type:t,...n}=e;return(0,s.jsx)("input",{type:t,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:a,...n})});n.displayName="Input"},63655:(e,a,r)=>{"use strict";r.d(a,{hO:()=>o,sG:()=>l});var s=r(12115),t=r(47650),i=r(99708),n=r(95155),l=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,a)=>{let r=(0,i.TL)(`Primitive.${a}`),t=s.forwardRef((e,s)=>{let{asChild:t,...i}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,n.jsx)(t?r:a,{...i,ref:s})});return t.displayName=`Primitive.${a}`,{...e,[a]:t}},{});function o(e,a){e&&t.flushSync(()=>e.dispatchEvent(a))}},65331:(e,a,r)=>{"use strict";r.d(a,{U:()=>t});var s=r(34477);let t=(0,s.createServerReference)("7f35257657c6cb675baa01fb80d95af2d5143c9413",s.callServer,void 0,s.findSourceMapURL,"getAccountsFS")},85185:(e,a,r)=>{"use strict";function s(e,a,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e?.(s),!1===r||!s.defaultPrevented)return a?.(s)}}r.d(a,{m:()=>s})},87374:(e,a,r)=>{"use strict";r.d(a,{A:()=>s});let s=(0,r(40157).A)("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},87687:(e,a,r)=>{"use strict";r.d(a,{A:()=>s});let s=(0,r(40157).A)("SendHorizontal",[["path",{d:"M3.714 3.048a.498.498 0 0 0-.683.627l2.843 7.627a2 2 0 0 1 0 1.396l-2.842 7.627a.498.498 0 0 0 .682.627l18-8.5a.5.5 0 0 0 0-.904z",key:"117uat"}],["path",{d:"M6 12h16",key:"s4cdu5"}]])},88539:(e,a,r)=>{"use strict";r.d(a,{T:()=>n});var s=r(95155),t=r(12115),i=r(59434);let n=t.forwardRef((e,a)=>{let{className:r,...t}=e;return(0,s.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:a,...t})});n.displayName="Textarea"},93473:(e,a,r)=>{"use strict";r.d(a,{Cv:()=>o,F3:()=>t,HF:()=>d,IJ:()=>f,Ly:()=>m,Op:()=>x,Oq:()=>i,QM:()=>l,QZ:()=>h,RP:()=>c,X$:()=>n,Yl:()=>u,g0:()=>j,gN:()=>s,iD:()=>b,l:()=>p,tF:()=>g,tU:()=>v}),["Sello Copil","Grupo Tragaluz","MARRIOT","AC HOTELES","Bokaxankla Bar","Florida Park","Restaurante Bajio","Restaurante Trompo","NH HOTELES","Casa de Mexico","Grupo Dejate Llevar","Chiton","Martina por el Norte","Boheme","4 Latas","Vineci Hoteles","Catering Ciboulette","Los pefiotes","Restaurante Fondeo","Morris Club","Floren Domezain","Taberna Jimmys","Casa Ortega","Cafe de Paris","CRISTINA ORIA","Salvador Bachiller","Restaurante Lanteo","Fuerte Group Hotels","Noname","Bar Nuevo M40","Tienda El enemigo","Discoteca Maracaibo","La Oficina Maracaibo","Liquor shop","Casa de Siempre","Filemon","La Rubia","Restaurante Meneo","Ke Sotogrande","Polo Sotogrande","Agora Sotogrande","Nueva Taberna","Restaurante Aurea","Chambao","Gkg Sky Bar","ella Sky Bar","Botania","Dofia Tomasa","Mantequerias Bravo","Catering Samantha","Grupo Mentidero","Catering Laurel","Cristine Bedfor","Estrella Galicia","Tierra del Queiles","Restaurante Her","Noneta","Makila","Golda","Vinoteca Collado","Petit Apetit"].map(e=>({nombre:e,type:"HORECA",potencial:"medio"}));let s=[],t=["Libre","Ocupado","Limpieza"],i=["unit","kg","g","l","ml"],n=["Programada","Pendiente","Confirmado","Procesando","Enviado","Entregado","Facturado","Cancelado","Fallido","Seguimiento","Completado"],l=["Distribuidor","HORECA","Retail","Cliente Final","Otro"],o=["Llamar al responsable de compras","Mandar informaci\xf3n","Visitar de nuevo","Enviar muestra","Esperar decisi\xf3n","Opci\xf3n personalizada"],d=["No interesado","Ya trabaja con otro proveedor","Sin presupuesto","Producto no encaja","Otro (especificar)"],c=["Admin","SalesRep","Distributor","Clavadista","L\xedder Clavadista"],u=["HORECA","Distribuidor","Retail Minorista","Gran Superficie","Evento Especial","Cliente Final Directo","Importador","Otro","distribuidor_mediano","distribuidor_grande","distribuidor_top"],p=["Activaci\xf3n en Tienda","Feria Comercial","Evento Corporativo","Degustaci\xf3n","Patrocinio","Activaci\xf3n","Otro"],m=["Planificado","Confirmado","En Curso","Completado","Cancelado","Pospuesto"],h=["Equipo Santa Brisa","Iniciativa Importador","Marketing Digital","Referido","Otro"],f=["Adelantado","Contado","Transferencia 30 d\xedas","Giro Bancario"],x=["Pendiente","Aprobada","Rechazada","Enviada"],j=["Captaci\xf3n Cliente Nuevo","Seguimiento Cliente Existente","Material para Evento","Uso Interno/Formaci\xf3n","Otro"],g=["\xc1lava","Albacete","Alicante","Almer\xeda","Asturias","\xc1vila","Badajoz","Barcelona","Burgos","C\xe1ceres","C\xe1diz","Cantabria","Castell\xf3n","Ciudad Real","C\xf3rdoba","La Coru\xf1a","Cuenca","Gerona","Granada","Guadalajara","Guip\xfazcoa","Huelva","Huesca","Islas Baleares","Ja\xe9n","Le\xf3n","L\xe9rida","Lugo","Madrid","M\xe1laga","Murcia","Navarra","Orense","Palencia","Las Palmas","Pontevedra","La Rioja","Salamanca","Santa Cruz de Tenerife","Segovia","Sevilla","Soria","Tarragona","Teruel","Toledo","Valencia","Valladolid","Vizcaya","Zamora","Zaragoza"],v=["Borrador","Confirmada","Facturada","Pagada","Cancelada"],b=["Importador","Online","Estrat\xe9gica","Otro"]},99708:(e,a,r)=>{"use strict";r.d(a,{DX:()=>l,Dc:()=>d,TL:()=>n});var s=r(12115),t=r(6101),i=r(95155);function n(e){let a=function(e){let a=s.forwardRef((e,a)=>{let{children:r,...i}=e;if(s.isValidElement(r)){var n;let e,l,o=(n=r,(l=(e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?n.ref:(l=(e=Object.getOwnPropertyDescriptor(n,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?n.props.ref:n.props.ref||n.ref),d=function(e,a){let r={...a};for(let s in a){let t=e[s],i=a[s];/^on[A-Z]/.test(s)?t&&i?r[s]=(...e)=>{let a=i(...e);return t(...e),a}:t&&(r[s]=t):"style"===s?r[s]={...t,...i}:"className"===s&&(r[s]=[t,i].filter(Boolean).join(" "))}return{...e,...r}}(i,r.props);return r.type!==s.Fragment&&(d.ref=a?(0,t.t)(a,o):o),s.cloneElement(r,d)}return s.Children.count(r)>1?s.Children.only(null):null});return a.displayName=`${e}.SlotClone`,a}(e),r=s.forwardRef((e,r)=>{let{children:t,...n}=e,l=s.Children.toArray(t),o=l.find(c);if(o){let e=o.props.children,t=l.map(a=>a!==o?a:s.Children.count(e)>1?s.Children.only(null):s.isValidElement(e)?e.props.children:null);return(0,i.jsx)(a,{...n,ref:r,children:s.isValidElement(e)?s.cloneElement(e,void 0,t):null})}return(0,i.jsx)(a,{...n,ref:r,children:t})});return r.displayName=`${e}.Slot`,r}var l=n("Slot"),o=Symbol("radix.slottable");function d(e){let a=({children:e})=>(0,i.jsx)(i.Fragment,{children:e});return a.displayName=`${e}.Slottable`,a.__radixId=o,a}function c(e){return s.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===o}}},e=>{var a=a=>e(e.s=a);e.O(0,[2992,7138,5769,8884,1490,587,7328,8965,1859,3229,6315,8441,1684,7358],()=>a(19989)),_N_E=e.O()}]);